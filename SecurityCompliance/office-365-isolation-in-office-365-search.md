---
title: Изоляция клиента Office 365 в Office 365 поиска
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection: Strat_O365_Enterprise
description: 'Сводка: Пояснения изоляция клиента в Office 365 поиска.'
ms.openlocfilehash: cc73f3c157ffd20b3891a6b7c58e7d0b2adf4e55
ms.sourcegitcommit: 36c5466056cdef6ad2a8d9372f2bc009a30892bb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2018
ms.locfileid: "22534245"
---
# <a name="tenant-isolation-in-office-365-search"></a>Изоляция клиента в поиске Office 365
SharePoint Online поиска используется модель разделения клиента, который обеспечивает оптимальное сочетание эффективности совместно используемых структур данных с помощью защиты от утечки между клиентами сведения. В этой модели мы предотвратить функции поиска из:
- Возвращение результатов запроса, которые содержат документов из других клиентов
- Предоставление доступа к достаточно сведений в результатах запроса, что квалифицированного пользователей может определить сведения о других клиентов
- Отображение схемы или параметров от другого клиента
- Совместное использование данных между клиентами и хранилища результатов в неправильную клиентов обработки аналитики
- С помощью записи словаря от другого клиента

Для каждого типа данных клиента мы используем один или несколько уровней защиты в коде для предотвращения случайного утечки информации. Наиболее важных данных имеет большинство слоев защиты, чтобы убедиться в том, что одной ошибки не приведет к защиты от утечки информации фактических или обнаруженных.

## <a name="tenant-separation-for-the-search-index"></a>Разделение клиента для индекса поиска
Индекс поиска хранятся на диске, серверы, на которых размещаются компоненты индекса и клиенты общий доступ к файлам индекса. Индексированные документы клиента отображаются только для запросов для этого клиента. Три независимых механизма предотвратить защиты от утечки информации:
- Фильтрация идентификатора клиента
- Задание терминов префикса идентификатор клиента
- Проверки списка управления Доступом

Все три механизма бы к ошибке для поиска для возвращения документы в неправильную клиент.

## <a name="tenant-id-filtering-and-tenant-id-term-prefixing"></a>Фильтрация идентификатора клиента и префикса терминов идентификатор клиента
Префиксы поиска каждый термин, индексируются в полнотекстовый индекс с идентификатором клиента. Например, при индексации термин «*foo*» для клиента с Идентификатором «*123*», запись в полнотекстовый индекс будет "*123foo.*"

Каждый запрос преобразуется в включают идентификатор клиента, используя процесс с именем Фильтрация идентификатора клиента. Например запрос «*foo*» преобразуется в «<*guid*>. *foo* И *tenantID*: <*guid*> «, где <*guid*> представляет клиента для выполнения запроса. Это преобразование запроса происходит в каждом узле индексирования и обработки запросов, ни содержимое, которые влияют на его. Так как ИД клиента добавляется для каждого запроса, частоты терминов в других клиентов могут быть определены по крайней лучше всего совпадение ранжирования в одну для клиентов.

Задание терминов префикса идентификатор клиента возникает только в полнотекстовый индекс. Были операций поиска, такие как «*Название: foo*», перейдите к искусственных поискового индекса где термины префиксом по идентификатору клиента. Вместо этого были поисков начинаются с префикса имя поля. Например, запрос «*заголовок: foo*» преобразуется в "*fields.title:foo fields.tenantID и*: <*guid*>.» Так как частоты терминов не влияют на ранжирование совпадений в индексе поиска искусственных, нет необходимости для разделения клиента с помощью префикса терминов. Fielded поиска как «*заголовок: foo*» разделение контента клиента зависит от ИД клиента, фильтрация по преобразования запроса.

## <a name="document-access-control-list-checks"></a>Проверки списка контроля доступа документа
Управляет доступом поиска документов с помощью списков управления доступом, сохраненных в индексе поиска. Каждый элемент индексируются с помощью набора терминов в специальные поля списка управления Доступом. В поле списка управления Доступом содержит один термин каждой группы или пользователя, который можно просмотреть документ. Каждый запрос дополняется со списком управления доступом элемента управления терминов, access, один для каждой группы, к которой принадлежит прошедшего проверку пользователя.

Например, для запроса как «<*guid*>. *foo и tenantID*: <*guid*>» становится: «<*guid*>. *foo и tenantID*: <*guid*> *AND* (*docACL:*<*ace1*> *или docACL*: <*ace2*> *или docACL*: <*ace3*> *... *)"

Так как идентификаторов пользователей и групп и поэтому записи ACE, то это обеспечивает дополнительный уровень безопасности между клиентами для документов, которые отображаются только для некоторых пользователей. То же самое обоснование для специальных «все за исключением внешних пользователей» элемент управления ДОСТУПОМ, который предоставляет доступ для обычных пользователей в клиентов. Но поскольку элементов ACE для «Все», общим для всех клиентов, разделение клиента для общих документов, зависит от Фильтрация идентификатора клиента. Запретите также поддерживаются элементы управления доступом. Расширение запроса добавляет предложение, удаляет документ из результат, если совпадение с запрещающий элемент управления ДОСТУПОМ.

Exchange Online поиска в индексе секционируются на идентификатор почтового ящика для отдельных пользователей почтовых ящиков вместо ИД клиента (подписки с Идентификатором), как и в SharePoint Online. Механизмом секционирования совпадает с SharePoint Online, однако это не имеет нет списка управления Доступом фильтрации.
