---
title: Отпечатки документов
ms.author: stephow
author: stephow-msft
manager: laurawi
ms.date: 11/17/2014
ms.audience: ITPro
ms.topic: article
search.appverid: MET150
ms.service: exchange-online
localization_priority: Normal
ms.assetid: 1e0c579c-26e0-462a-a1b0-d7506dfe05fa
description: Информационные сотрудники Организации обрабатывают многие виды конфиденциальной информации в течение типичного дня. ОтПечатки документов позволяют упростить защиту этих данных, определив стандартные формы, используемые в Организации. В этом разделе описываются понятия, связанные с использованием отпечатков документов, и способы их создания с помощью PowerShell.
ms.openlocfilehash: 20b9f59902c52d347e7c439cb6f380ee9fd4a30e
ms.sourcegitcommit: 48fa456981b5c52ab8aeace173c8366b9f36723b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2019
ms.locfileid: "30341290"
---
# <a name="document-fingerprinting"></a>Создание отпечатка документа

Информационные сотрудники Организации обрабатывают многие виды конфиденциальной информации в течение типичного дня. В центре безопасности &amp; и соответствия требованиям к отПечатку документов упрощается защита этих сведений путем определения стандартных форм, используемых в Организации. В этом разделе описываются понятия, связанные с использованием отпечатков документов, и способы их создания с помощью PowerShell.
  
## <a name="basic-scenario-for-document-fingerprinting"></a>Основной сценарий использования отпечатков документов

ОтПечатки документов — это функция защиты от потери данных, преобразующая стандартную форму в тип конфиденциальной информации, которую можно использовать в правилах политик защиты от потери данных. Например, можно создать отпечаток документа на основе пустого шаблона патента, а затем создать политику защиты от потери данных, которая будет обнаруживать и блокировать все исходящие шаблоны патентов с конфиденциальным контентом, заполненным. Кроме того, можно настроить [подсказки политики](use-notifications-and-policy-tips.md) , чтобы уведомить отправителей о том, что они могут отправлять конфиденциальную информацию, а отправителю необходимо убедиться, что получатели являются квалифицированными для получения патентов. Этот процесс работает с текстовыми формами, используемыми в Организации. Ниже приведены дополнительные примеры форм, которые можно отправить. 
  
- Правительственные формы
    
- Формы соответствия требованиям обязательного медицинского страхования
    
- Формы сведений о сотрудниках для отделов кадров
    
- Настраиваемые формы, созданные специально для вашей организации
    
В идеале у вашей организации уже есть настроенная бизнес-практика использования определенных форм для передачи конфиденциальной информации. После отправки пустой формы для преобразования в отпечаток документа и настройки соответствующей политики DLP обнаруживает все документы в исходящей почте, соответствующие этому отпечатку.
  
## <a name="how-document-fingerprinting-works"></a>Принцип работы отпечатков документов

Вероятно, вы уже предполагаюи, что документы не имеют фактических отпечатков пальцев, но это имя поможет объяснить эту функцию. Так же, как отпечатки лица имеют уникальные шаблоны, документы имеют уникальные шаблоны Word. При отправке файла DLP определяет уникальный шаблон Word в документе, создает отпечаток документа на основе этого шаблона и использует этот отпечаток документа для обнаружения исходящих документов, содержащих такой же шаблон. Именно поэтому при отправке формы или шаблона создается наиболее эффективный тип отпечатка документа. Все, заполняющие форму, используют один и тот же исходный набор слов, а затем добавляет в документ свои слова. Пока исходящий документ не защищен паролем и содержит весь текст из исходной формы, DLP может определить, соответствует ли документ отпечатка документа.
  
В примере ниже показано, что происходит, если вы создаете отпечаток документа на основе шаблона патента, но вы можете использовать любую форму в качестве основы для создания отпечатка документа.
  
**Пример патентного документа, соответствующего отпечатку документа для шаблона патента**

![Документ_финжерпринтинг_диаграм. png](media/Document_Fingerprinting_diagram.png)
  
Шаблон патента содержит пустые поля "название патента", "товарные запасы" и "Описание" и описания для каждого из этих полей — это шаблон Word. Когда вы отправляете исходный шаблон патента, он находится в одном из поддерживаемых типов файлов и в виде обычного текста. DLP преобразует этот шаблон Word в отпечаток документа, который представляет собой небольшой XML-файл в формате Юникод с уникальным значением хэша, представляющим исходный текст, а отпечаток сохраняется как классификация данных в Active Directory. (В качестве меры безопасности исходный документ не хранится в службе, сохраняется только значение хэша, и исходный документ нельзя восстановить из хэш-значения.) После этого отпечаток патента становится типом конфиденциальной информации, который можно связать с политикой защиты от потери данных. После связывания отпечатка пальца с политикой защиты от потери данных, DLP определяет все исходящие сообщения, содержащие документы, соответствующие отпечатку патента и работающие с ними в соответствии с политикой Организации. 

Например, может потребоваться настроить политику DLP, которая запрещает обычным сотрудникам отправлять исходящие сообщения, содержащие патенты. DLP будет использовать патентный отпечаток для обнаружения патентов и блокировки этих сообщений. Кроме того, вы можете предоставить своему юридическому отделу возможность отправлять патенты другим организациям, так как для этого требуется бизнес-решение. Вы можете разрешить определенным отделам отправлять конфиденциальную информацию, создав исключения для этих отделов в политике защиты от потери данных, или разрешить им переопределять подсказку политики с бизнес-обоснованием.
  
### <a name="supported-file-types"></a>Поддерживаемые типы файлов

ОтПечатки документов поддерживают те же типы файлов, что и в правилах для обработки почты (также называемых правилами транспорта). Список поддерживаемых типов файлов приведен в разделе [Поддерживаемые типы файлов для проверки содержимого правила для почтового процесса](https://docs.microsoft.com/en-us/exchange/security-and-compliance/mail-flow-rules/inspect-message-attachments#supported-file-types-for-mail-flow-rule-content-inspection). Одна быстрая заметка о типах файлов: правила обработки почтового ящика и отПечатки документов поддерживают тип файла. dotx, который может быть запутанным из-за того, что это файл шаблона в Word. Если вы видите слово "Template" (шаблон) в этой и другой теме отПечатка пальца документа, он ссылается на документ, который вы установили как стандартную форму, а не тип файла шаблона.
  
#### <a name="limitations-of-document-fingerprinting"></a>Ограничения относительно отпечатков документов

ОтПечатки документов не обнаруживают конфиденциальные сведения в следующих случаях:
  
- Файлы защищены паролем.
    
- Файлы содержат только изображения.
    
- Документы не содержат весь текст из исходной формы, которая использовалась для создания отпечатка документа.
    
## <a name="use-powershell-to-create-a-classification-rule-package-based-on-document-fingerprinting"></a>Создание пакета правил классификации на основе отпечатков документов с помощью PowerShell

Обратите внимание, что в настоящее время вы можете создать отпечаток документа только &amp; с помощью PowerShell в центре безопасности и соответствия требованиям. Чтобы подключиться, ознакомьтесь [со статьЕй подключение к Office 365 Security _амп_ в PowerShell центра соответствия требованиям](https://docs.microsoft.com/en-us/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell).

DLP использует пакеты правил классификации для обнаружения конфиденциального содержимого. Чтобы создать пакет правил классификации на основе отпечатка документа, используйте командлеты **New – длпфинжерпринт** и **New – DlpSensitiveInformationType** . Так как результаты **New-длпфинжерпринт** не хранятся вне правила классификации данных, всегда выполняются командлеты **New-длпфинжерпринт** и **New-DlpSensitiveInformationType** или **Set-DlpSensitiveInformationType** в той же Сеанс PowerShell. В примере ниже показано, как создать новый отпечаток документа на основе файла \ \ Documents\Contoso Employee Template. docx. Новый отпечаток сохраняется в виде переменной, поэтому его можно использовать с командлетом **New – DlpSensitiveInformationType** в том же сеансе PowerShell. 
  
```
$Employee_Template = Get-Content "C:\My Documents\Contoso Employee Template.docx" -Encoding byte -ReadCount 0
$Employee_Fingerprint = New-DlpFingerprint -FileData $Employee_Template -Description "Contoso Employee Template"
```

Давайте создадим новое правило классификации данных с именем "Contoso Employee Confidential", использующее отпечаток документа из файла C:\My Documents\Contoso Customer Information Form.docx.
  
```
$Employee_Template = Get-Content "C:\My Documents\Contoso Customer Information Form.docx" -Encoding byte -ReadCount 0
$Customer_Fingerprint = New-DlpFingerprint -FileData $Customer_Form -Description "Contoso Customer Information Form"
New-DlpSensitiveInformationType -Name "Contoso Customer Confidential" -Fingerprints $Customer_Fingerprint -Description "Message contains Contoso customer information." 
```

Теперь вы можете использовать командлет **Get-DlpSensitiveInformationType** для поиска всех пакетов правил классификации данных защиты от потери данных, а в этом примере "Contoso Customer Confidential" входит в список пакетов правил классификации данных. 
  
Наконец, добавьте пакет правил классификации данных "Contoso Customer Confidential" в политику защиты от потери данных в центре &amp; соответствия требованиям безопасности. В этом примере показано, как добавить правило к существующей политике защиты от потери данных с именем "Конфидентиалполици".

```
New-DlpComplianceRule -Name "ContosoConfidentialRule" -Policy "ConfidentialPolicy" -ContentContainsSensitiveInformation @{Name="Contoso Customer Confidential"} -BlockAccess $True
```

Вы также можете использовать пакет правил классификации данных в правилах обработки почтового ящика в Exchange Online, как показано в следующем примере. Чтобы выполнить эту команду, сначала необходимо [подключиться к Exchange Online PowerShell](https://docs.microsoft.com/en-us/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/connect-to-exchange-online-powershell). Также обратите внимание на то, что пакет правил должен синхронизироваться с центром &amp; безопасности Exchange в центре администрирования Exchange.
  
```
New-TransportRule -Name "Notify :External Recipient Contoso confidential" -NotifySender NotifyOnly -Mode Enforce -SentToScope NotInOrganization -MessageContainsDataClassification @{Name=" Contoso Customer Confidential"}

```

Теперь DLP обнаруживает документы, которые совпадают с отпечаткой документа Contoso Customer Form. docx.
  
Сведения о синтаксисе и параметрах можно найти в следующих статьях:

- [New — Длпфинжерпринт](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-dlp/New-DlpFingerprint)
- [New — DlpSensitiveInformationType](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-dlp/New-DlpSensitiveInformationType)
- [ReMove — DlpSensitiveInformationType](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-dlp/Remove-DlpSensitiveInformationType)
- [Set — DlpSensitiveInformationType](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-dlp/Set-DlpSensitiveInformationType)
- [Get — DlpSensitiveInformationType](https://docs.microsoft.com/powershell/module/exchange/policy-and-compliance-dlp/Get-DlpSensitiveInformationType)
