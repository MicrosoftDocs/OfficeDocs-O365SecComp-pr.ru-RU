---
title: Шифрование Office 365 для Skype, OneDrive, SharePoint и Exchange
ms.author: krowley
author: kccross
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- M365-security-compliance
description: 'Сводка: описание шифрования для Skype, OneDrive, SharePoint и Exchange Online.'
ms.openlocfilehash: 730bd15e6d6853b08c388895c9eaa3c7b68b4930
ms.sourcegitcommit: 686bc9a8f7a7b6810a096f07d36751d10d334409
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/26/2019
ms.locfileid: "30276249"
---
# <a name="office-365-encryption-for-skype-for-business-onedrive-for-business-sharepoint-online-and-exchange-online"></a>Шифрование Office 365 для Skype для бизнеса, OneDrive для бизнеса, SharePoint Online и Exchange Online

Office 365 — это строго безопасная среда, которая обеспечивает расширенную защиту нескольких уровней: физическая безопасность центра обработки данных, безопасность сети, безопасность доступа, безопасность приложений и безопасность данных.

## <a name="skype-for-business"></a>Skype для бизнеса
Данные клиента Skype для бизнеса могут храниться в любой момент в виде файлов или презентаций, которые отправляются участниками собрания. Сервер веб-конференций шифрует данные клиента с помощью AES с 256-битным ключом. Зашифрованные данные клиента хранятся в общем файловом ресурсе. Каждая часть данных клиента шифруется с помощью другого случайно созданного ключа 256-bit. Когда часть данных клиента совместно используется в конференции, сервер веб-конференций указывает клиентам конференц-связи загрузить зашифрованные данные клиента через HTTPS. Он отправляет соответствующий ключ клиентам, чтобы можно было расшифровывать данные клиента. Сервер веб-конференций также проверяет подлинность клиентов конференц-связи, прежде чем клиенты смогут получать доступ к данным клиента для Конференции. При присоединении к веб-конференции каждый клиент конференц-связи устанавливает диалоговое окно SIP с компонентом Focus конференц-связи, запущенным внутри сервера переднего плана через TLS. Фокус конференц-связи передается клиенту конференции — файл cookie проверки подлинности, созданный сервером веб-конференций. Затем клиент конференции подключается к серверу веб-конференций, представляя файл cookie проверки подлинности сервером.

## <a name="sharepoint-online-and-onedrive-for-business"></a>SharePoint Online и OneDrive для бизнеса
Все файлы клиентов в SharePoint Online защищены уникальными ключами на файлы, которые всегда являются эксклюзивными для одного клиента. Эти ключи создаются и управляются службой SharePoint Online, или когда используется ключ клиента, создаются и управляются клиентами. Когда файл отправляется, шифрование выполняется в SharePoint Online в контексте запроса на отправку, прежде чем отправлять его в хранилище Azure. Когда файл загружается, SharePoint Online извлекает зашифрованные данные клиента из хранилища Azure на основе уникального идентификатора документа и расшифровывает данные клиента перед отправкой их пользователю. Хранилище Azure не может расшифровывать или даже определять или понять данные клиента. Все операции шифрования и расшифровки выполняются в тех же системах, в которых применяется изоляция клиентов, которая является Azure Active Directory и SharePoint Online.

Некоторые рабочие нагрузки в Office 365 хранят данные в SharePoint Online, в том числе Microsoft Teams, в котором хранятся все файлы в SharePoint Online и OneDrive для бизнеса, в которых для хранения используется SharePoint Online. Все данные клиентов, хранящиеся в SharePoint Online, шифруются (с одним или несколькими ключами AES 256-bit) и распределяются в центре обработки данных следующим образом. (Каждый этап этого процесса шифрования — FIPS 140-2 с проверкой подлинности FIPS 2. Дополнительные сведения о соответствии требованиям FIPS 140-2 приведены в статье [соответствие требованиям стандарта fips 140-2](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)).
- Каждый файл разделяется на один или несколько фрагментов в зависимости от размера файла. Каждый блок шифруется с помощью собственного уникального ключа AES 256-bit.
- При обновлении файла обновление обрабатывается аналогичным образом: это изменение разбивается на один или несколько фрагментов, и каждый блок шифруется с помощью отдельного уникального ключа.
- Эти блоки — файлы, фрагменты файлов и изменения различий хранятся в хранилище Azure в виде BLOB-объектов, которые случайно распределены по нескольким учетным записям хранения Azure. 
- Набор ключей шифрования для этих фрагментов данных клиента сам по себе шифруется.
   - Ключи, используемые для шифрования больших двоичных объектов, хранятся в базе данных контента SharePoint Online.
   - База данных контента защищена элементами управления доступом к базам данных и шифрованием на REST. Шифрование выполняется с помощью [прозрачНого шифрования данных](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-tde) (TDE) в [базе данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-technical-overview). (База данных SQL Azure — это служба реляционной базы данных общего назначения в Microsoft Azure, которая поддерживает такие структуры, как реляционные данные, JSON, пространственный и XML.) Эти секреты относятся к уровню обслуживания для SharePoint Online, а не на уровне клиента. Эти секреты (иногда называемые главными ключами) хранятся в отдельном безопасном репозитории, который называется хранилищем ключей. TDE обеспечивает безопасность как для активной базы данных, так и для резервных копий базы данных и журналов транзакций. 
   - Когда клиенты предоставляют дополнительный ключ, ключ клиента хранится в Azure Key Vault, а служба использует ключ для шифрования ключа клиента, который используется для шифрования ключа сайта, который затем используется для шифрования ключей уровня файлов. По сути, новая иерархия ключей представлена, когда клиент предоставляет ключ.
- Карта, используемая для повторной сборки файла, хранится в базе данных контента вместе с зашифрованными ключами отдельно от главного ключа, необходимого для их расшифровки.
- Каждая учетная запись хранения Azure имеет собственные уникальные учетные данные для каждого типа доступа (чтение, запись, перечисление и удаление). Каждый набор учетных данных хранится в безопасном хранилище ключей и регулярно обновляется. Как было сказано выше, существует три различных типа хранилищ, каждое из которых имеет функцию DISTINCT:
- Данные клиента хранятся в хранилище Azure в виде зашифрованных больших двоичных объектов. Ключ к каждому фрагменту данных клиента шифруется и хранится отдельно в базе данных контента. Данные клиента не содержат никакой информации о том, как его можно расшифровать.
- База данных контента представляет собой базу данных SQL Server. Она содержит карту, необходимую для обнаружения и повторной сборки больших двоичных объектов данных клиентов, хранящихся в хранилище Azure, а также ключей, необходимых для шифрования этих больших двоичных объектов. Тем не менее, набор ключей сам по себе шифруется (как описано выше) и удерживается в отдельном хранилище ключей.
- Хранилище ключей физически отличается от базы данных контента и хранилища Azure. Он содержит учетные данные для каждого контейнера хранилища Azure и главный ключ для набора зашифрованных ключей, хранящихся в базе данных контента.

Каждый из этих трех компонентов хранилища — хранилище больших двоичных объектов Azure, база данных контента и хранилище ключей физически разделены. Сведения, хранящиеся в одном из компонентов, не могут использоваться самостоятельно. Без доступа ко всем трем невозможно получить ключи в блоки, расшифровать клавиши, чтобы сделать их пригодными для использования, сопоставить ключи с соответствующими блоками, расшифровать каждый блок или воссоздать документ из составных блоков.

Сертификаты BitLocker, защищающие физические диски на машинах в центре данных, хранятся в надежном репозитории (Секретное хранилище SharePoint Online), защищенном ключом фермы.

Ключи TDE, защищающие ключи на большой двоичный объект, хранятся в двух расположениях:
- Безопасный репозиторий, который размещает сертификаты BitLocker и защищен ключом фермы; с
- В безопасном репозитории, управляемом базой данных SQL Azure.

Учетные данные, используемые для доступа к контейнерам хранилища Azure, также хранятся в секретном хранилище SharePoint Online и делегированы каждой ферме SharePoint Online по мере необходимости. Эти учетные данные представляют собой подписи SAS хранилища Azure, с отдельными учетными данными, используемыми для чтения или записи данных, а также с применением политики, чтобы автоматически истечет каждые 60 дней. Для чтения и записи данных используются различные учетные данные (не оба), а фермы SharePoint Online не имеют разрешений на перечисление.

> Примечание для клиентов Office 365 U.S. для государственных учреждений большие двоичные объекты хранятся в хранилище для государственных учреждений в Azure США. Кроме того, доступ к ключам SharePoint Online в Office 365 U.S. правительством ограничен только сотрудниками Office 365, которые были специально настроены на экран. Сотрудники Microsoft Azure U.S. для государственных учреждений не имеют доступа к хранилищу ключей SharePoint Online, который используется для шифрования больших двоичных объектов данных.

Дополнительные сведения о шифровании данных в SharePoint Online и OneDrive для бизнеса приведены [в статье шифрование данных в onedrive для бизнеса и SharePoint Online](https://technet.microsoft.com/en-us/library/dn905447.aspx).

### <a name="list-items-in-sharepoint-online"></a>Элементы списка в SharePoint Online
Элементы списка — это небольшие фрагменты данных клиентов, которые создаются с нерегламентированными или динамически динамическими в пределах сайта, например строки в списке, созданном пользователем, отдельные записи в блоге SharePoint Online или записи на вики-странице SharePoint Online. Элементы списка хранятся в базе данных контента (база данных SQL Azure) и защищены с помощью TDE.

## <a name="encryption-of-data-in-transit"></a>Шифрование транзитных данных
В OneDrive для бизнеса и SharePoint Online используются два сценария для входящих и исходящих данных в центрах данных.
- **Клиентская связь с сервером** — обмен данными с OneDrive для бизнеса через Интернет использует подключения SSL/TLS. Все SSL-подключения устанавливаются с использованием 2048-разрядных ключей.
- **Перемещение данных между центрами обработки данных** — основная причина перемещения данных между центрами обработки данных — для поддержки аварийного восстановления с помощью географической репликации. Например, журналы транзакций SQL Server и сведения о хранении больших двоичных объектов передаются по этому каналу. Хотя эти данные уже передаются с помощью частной сети, они дополнительно защищаются с помощью лучшего шифрования.


## <a name="exchange-online"></a>Exchange Online
Exchange Online использует BitLocker для всех данных почтовых ящиков, а конфигурация BitLocker описана в разделе [BitLocker для шифрования](office-365-bitlocker-and-distributed-key-manager-for-encryption.md). Шифрование на уровне службы шифрует все данные почтового ящика на уровне почтового ящика. 

В дополнение к шифрованию с шифрованием Office 365 поддерживает ключ клиента, который основан на шифровании службы. Ключ клиента — это ключ, управляемый корпорацией Майкрософт, для шифрования службы Exchange Online, также включенный в план Майкрософт. Этот способ шифрования обеспечивает повышенную защиту, не предоставляемую BitLocker, так как она предоставляет разделение администраторов сервера и криптографические ключи, необходимые для расшифровки данных, а также из-за того, что шифрование применяется непосредственно к данным (в Сравните с BitLocker, который применяет шифрование на томе логического диска. все данные клиентов, скопированные с сервера Exchange Server, остаются зашифрованными.

Областью для шифрования службы Exchange Online являются данные клиентов, хранящиеся на REST в Exchange Online. (Skype для бизнеса хранит почти весь контент, созданный пользователем, в почтовом ящике Exchange Online, поэтому он наследует функцию шифрования службы в Exchange Online.)
