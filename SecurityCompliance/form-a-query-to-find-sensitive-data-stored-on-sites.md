---
title: Формирование запроса для поиска конфиденциальных данных, которые хранятся на сайтах
ms.author: stephow
author: stephow-MSFT
manager: laurawi
ms.date: 6/29/2018
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
search.appverid:
- MOE150
- MET150
ms.assetid: 3019fbc5-7f15-4972-8d0e-dc182dc7f836
description: С помощью защита от потери данных (DLP) в SharePoint Online могут обнаруживать документы, которые содержат конфиденциальные данные во всем вашего клиента. После обнаружения документы, может работать с владельцев документов для защиты данных. В этом разделе помогут вам формы запроса для поиска конфиденциальных данных.
ms.openlocfilehash: c30cb2e4b93e1a7db90f3e3f922f406285c6f692
ms.sourcegitcommit: 81e06e09bf5ca8e3f51b164d6251b1c35b3285cf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/27/2018
ms.locfileid: "25829190"
---
# <a name="form-a-query-to-find-sensitive-data-stored-on-sites"></a><span data-ttu-id="c669a-105">Формирование запроса для поиска конфиденциальных данных, которые хранятся на сайтах</span><span class="sxs-lookup"><span data-stu-id="c669a-105">Form a query to find sensitive data stored on sites</span></span>

<span data-ttu-id="c669a-p102">Пользователи часто хранить конфиденциальные данные, например номера банковской карты, номера социального страхования или личные на своих сайтах и со временем это может подвергнуть организацию значительные риск потери данных. Документы, хранящиеся на веб-сайтах, включая OneDrive для бизнеса сайтов — может использоваться совместно с людей за пределами организации, не должны иметь доступ к данным. С помощью защита от потери данных (DLP) в SharePoint Online могут обнаруживать документы, которые содержат конфиденциальные данные во всем вашего клиента. После обнаружения документы, может работать с владельцев документов для защиты данных. В этом разделе помогут вам формы запроса для поиска конфиденциальных данных.</span><span class="sxs-lookup"><span data-stu-id="c669a-p102">Users often store sensitive data, such as credit card numbers, social security numbers, or personal, on their sites, and over time this can expose an organization to significant risk of data loss. Documents stored on sites—including OneDrive for Business sites—could be shared with people outside the organization who shouldn't have access to the information. With data loss prevention (DLP) in SharePoint Online, you can discover documents that contain sensitive data throughout your tenant. After discovering the documents, you can work with the document owners to protect the data. This topic can help you form a query to search for sensitive data.</span></span>
  
> [!NOTE]
> <span data-ttu-id="c669a-111">Электронного обнаружения или обнаружения электронных данных и защиты от потери данных являются дополнительными компонентами, которые требуют [SharePoint Online (план 2)](https://go.microsoft.com/fwlink/?LinkId=510080).</span><span class="sxs-lookup"><span data-stu-id="c669a-111">Electronic discovery, or eDiscovery, and DLP are premium features that require [SharePoint Online Plan 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span></span> 
  
## <a name="forming-a-basic-dlp-query"></a><span data-ttu-id="c669a-112">Формирование базового запроса защиты от потери данных</span><span class="sxs-lookup"><span data-stu-id="c669a-112">Forming a basic DLP query</span></span>

<span data-ttu-id="c669a-p103">Существует три части, которые составляют базового запроса защиты от потери данных: SensitiveType, диапазон и вероятности диапазон счетчика. Как показано на рисунке ниже **SensitiveType:»\<тип\>"** является обязательным и обе**|\<подсчета диапазон\> \*\* и**|\<диапазона вероятности\> \*\* являются необязательными.</span><span class="sxs-lookup"><span data-stu-id="c669a-p103">There are three parts that make up a basic DLP query: SensitiveType, count range, and confidence range. As illustrated in the following graphic, **SensitiveType:"\<type\>"** is required, and both**|\<count range\>** and**|\<confidence range\>** are optional.</span></span> 
  
![Пример запроса, разделенный на обязательную и необязательную части](media/DLP-query-example-text.png)
  
### <a name="sensitive-type---required"></a><span data-ttu-id="c669a-116">Тип конфиденциальной информации — обязательная часть</span><span class="sxs-lookup"><span data-stu-id="c669a-116">Sensitive type - required</span></span>

<span data-ttu-id="c669a-p104">Так что такое каждой части? Запросы SharePoint защиты от потери данных обычно начинаются со свойством `SensitiveType:"` и типа данных имя из [инвентаризации типов конфиденциальной информации](https://go.microsoft.com/fwlink/?LinkID=509999)и заканчиваться `"`. Также можно использовать имя [тип настраиваемого конфиденциальных данных](create-a-custom-sensitive-information-type.md) , созданной для вашей организации. Например возможно, вы смотрите для документов, которые содержат цифры банковской карты. В таких экземпляр можно использовать следующий формат: `SensitiveType:"Credit Card Number"`. Так как не были включены count диапазон или диапазон вероятности, запрос возвращает все документы, в котором определяется номер кредитной карты. Это простой запрос, который можно запустить и возвращает большинства результатов. Имейте в виду правописания и отступы конфиденциальных типа имеет значение.</span><span class="sxs-lookup"><span data-stu-id="c669a-p104">So what is each part? SharePoint DLP queries typically begin with the property  `SensitiveType:"` and an information type name from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999), and end with a  `"`. You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization. For example, you might be looking for documents that contain credit card numbers. In such an instance, you'd use the following format:  `SensitiveType:"Credit Card Number"`. Because you didn't include count range or confidence range, the query returns every document in which a credit card number is detected. This is the simplest query that you can run, and it returns the most results. Keep in mind that the spelling and spacing of the sensitive type matters.</span></span> 
  
### <a name="ranges---optional"></a><span data-ttu-id="c669a-125">Диапазоны — необязательная часть.</span><span class="sxs-lookup"><span data-stu-id="c669a-125">Ranges - optional</span></span>

<span data-ttu-id="c669a-p105">Следующие две части являются диапазоны, давайте быстро изучить выглядит как диапазон. В запросах SharePoint защиты от потери данных базовой диапазон представлены двух чисел, разделенных точками два, это выглядит следующим образом: `[number]..[number]`. Например если `10..20` — используется, этот диапазон будет capture числа от 10 до 20. Существует множество сочетания различных диапазона и в этом разделе рассматривается несколько.</span><span class="sxs-lookup"><span data-stu-id="c669a-p105">Both of the next two parts are ranges, so let's quickly examine what a range looks like. In SharePoint DLP queries, a basic range is represented by two numbers separated by two periods, which looks like this:  `[number]..[number]`. For instance, if  `10..20` is used, that range would capture numbers from 10 through 20. There are many different range combinations and several are covered in this topic.</span></span> 
  
<span data-ttu-id="c669a-p106">Добавим count диапазона к запросу. Чтобы определить число вхождений конфиденциальные сведения, которые должен содержать перед включен в результаты запроса документа можно использовать диапазон count. Например, запрос для возврата только документы, которые содержат цифры ровно пять кредитной карты, используйте это: `SensitiveType:"Credit Card Number|5"`. Диапазон Count также поможет идентифицировать документы, которые представляют высокой степени риска. Ваша организация может рассмотрим документов с номера кредитной карты пять или более высокого риска. Для поиска документов, изменение размера это условие, необходимо использовать этот запрос: `SensitiveType:"Credit Card Number|5.."`. Кроме того, можно искать документы с пятью или не более кредит номера карт с помощью следующего запроса: `SensitiveType:"Credit Card Number|..5"`.</span><span class="sxs-lookup"><span data-stu-id="c669a-p106">Let's add a count range to the query. You can use count range to define the number of occurrences of sensitive information a document needs to contain before it's included in the query results. For example, if you want your query to return only documents that contain exactly five credit card numbers, use this:  `SensitiveType:"Credit Card Number|5"`. Count range can also help you identify documents that pose high degrees of risk. For example, your organization might consider documents with five or more credit card numbers a high risk. To find documents fitting this criterion, you would use this query:  `SensitiveType:"Credit Card Number|5.."`. Alternatively, you can find documents with five or fewer credit card numbers by using this query:  `SensitiveType:"Credit Card Number|..5"`.</span></span> 
  
#### <a name="confidence-range"></a><span data-ttu-id="c669a-137">диапазон доверия;</span><span class="sxs-lookup"><span data-stu-id="c669a-137">Confidence range</span></span>

<span data-ttu-id="c669a-p107">И, наконец значения вероятности — уровень вероятности, что обнаруженный тип конфиденциальных является фактически соответствие. Чтобы подсчитать количество диапазон значений для диапазона вероятности работает аналогичным образом. Запрос можно было создавать без включения count диапазона. Например, чтобы найти документы с любой номер кредитной карты номеров — до значения вероятности — 85 процентов или более поздней версии, можно использовать этот запрос: `SensitiveType:"Credit Card Number|*|85.."`.</span><span class="sxs-lookup"><span data-stu-id="c669a-p107">Finally, confidence range is the level of confidence that the detected sensitive type is actually a match. The values for confidence range work similarly to count range. You can form a query without including a count range. For example, to search for documents with any number of credit card numbers—as long as the confidence range is 85 percent or higher—you would use this query:  `SensitiveType:"Credit Card Number|*|85.."`.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="c669a-p108">Символ звездочки ( `*`) — это подстановочный знак, это означает works любое значение. Можно использовать подстановочный знак ( `*`) либо в диапазоне count или в диапазоне вероятности, но не в конфиденциальные типа.</span><span class="sxs-lookup"><span data-stu-id="c669a-p108">The asterisk ( `*`) is a wildcard character that means any value works. You can use the wildcard character ( `*`) either in the count range or in the confidence range, but not in a sensitive type.</span></span> 
  
### <a name="additional-query-properties-and-search-operators-available-in-the-ediscovery-center"></a><span data-ttu-id="c669a-144">Дополнительные свойства запросов и операторы поиска, доступные в центре обнаружения электронных данных</span><span class="sxs-lookup"><span data-stu-id="c669a-144">Additional query properties and search operators available in the eDiscovery Center</span></span>

<span data-ttu-id="c669a-p109">Защиты от потери данных в SharePoint также включает LastSensitiveContentScan, свойство, которое поможет вам ищет файлы, сканируемые в рамках указанного периода времени. Примеры запросов с `LastSensitiveContentScan` свойства, содержатся [Примеры сложных запросов](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="c669a-p109">DLP in SharePoint also introduces the LastSensitiveContentScan property, which can help you search for files scanned within a specific timeframe. For query examples with the  `LastSensitiveContentScan` property, see the [Examples of complex queries](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) in the next section.</span></span> 
  
<span data-ttu-id="c669a-p110">Можно использовать не только защиты от потери данных свойства этого элемента управления для создания запроса, но стандартными свойствами поиска обнаружения электронных данных SharePoint таким как `Author` или `FileExtension`. Операторы можно использовать для создания сложных запросов. Список доступных свойства и операторы в разделе [с помощью свойства поиска и операторы с eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) блоге.</span><span class="sxs-lookup"><span data-stu-id="c669a-p110">You can use not only DLP-specific properties to create a query, but also standard SharePoint eDiscovery search properties such as  `Author` or  `FileExtension`. You can use operators to build complex queries. For the list of available properties and operators, see the [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) blog post.</span></span> 
  
## <a name="examples-of-complex-queries"></a><span data-ttu-id="c669a-150">Примеры</span><span class="sxs-lookup"><span data-stu-id="c669a-150">Examples of complex queries</span></span>

<span data-ttu-id="c669a-151">В приведенных ниже примерах используется различных типов конфиденциальной, свойства и операторы для иллюстрации, как можно усовершенствовать запросы, чтобы найти именно то, что вы ищете.</span><span class="sxs-lookup"><span data-stu-id="c669a-151">The following examples use different sensitive types, properties, and operators to illustrate how you can refine your queries to find exactly what you're looking for.</span></span>
  
|<span data-ttu-id="c669a-152">**Запрос**</span><span class="sxs-lookup"><span data-stu-id="c669a-152">**Query**</span></span>|<span data-ttu-id="c669a-153">**Описание**</span><span class="sxs-lookup"><span data-stu-id="c669a-153">**Explanation**</span></span>|
|:-----|:-----|
| `SensitiveType:"International Banking Account Number (IBAN)"` <br/> |<span data-ttu-id="c669a-p111">Имя может показаться подозрительные, так как это так много времени, но это правильное имя для этого типа конфиденциальной. Убедитесь, что для использования точное имен из [данные инвентаризации типов конфиденциальной информации](https://go.microsoft.com/fwlink/?LinkID=509999). Также можно использовать имя [тип настраиваемого конфиденциальных данных](create-a-custom-sensitive-information-type.md) , созданной для вашей организации.</span><span class="sxs-lookup"><span data-stu-id="c669a-p111">The name might seem strange because it's so long, but it's the correct name for that sensitive type. Make sure to use exact names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999). You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization.  </span></span><br/> |
| <span data-ttu-id="c669a-157">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-157">\`SensitiveType:"Credit Card Number</span></span>|<span data-ttu-id="c669a-158">1..4294967295</span><span class="sxs-lookup"><span data-stu-id="c669a-158">1..4294967295</span></span>|<span data-ttu-id="c669a-159">1..100""</span><span class="sxs-lookup"><span data-stu-id="c669a-159">1..100"\`</span></span> <br/> |<span data-ttu-id="c669a-p112">Возвращает документы с совпадение по крайней мере один тип конфиденциальных «Номер кредитной карты». Значения для каждого диапазона имеют соответствующие минимального и максимального значения. Проще всего для создания этого запроса `SensitiveType:"Credit Card Number"`, но где вслух, в которой?</span><span class="sxs-lookup"><span data-stu-id="c669a-p112">This returns documents with at least one match to the sensitive type "Credit Card Number." The values for each range are the respective minimum and maximum values. A simpler way to write this query is  `SensitiveType:"Credit Card Number"`, but where's the fun in that?  </span></span><br/> |
| <span data-ttu-id="c669a-163">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-163">\`SensitiveType:"Credit Card Number</span></span>| <span data-ttu-id="c669a-164">5..25" и LastSensitiveContentScan:"8/11/2018..8/13/2018» "</span><span class="sxs-lookup"><span data-stu-id="c669a-164">5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018"\`</span></span> <br/> |<span data-ttu-id="c669a-165">Возвращает документы с числом 5-25 кредитной карты, которые были проверены из 11 августа 2018 через 13 августа 2018.</span><span class="sxs-lookup"><span data-stu-id="c669a-165">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018.</span></span>  <br/> |
| <span data-ttu-id="c669a-166">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-166">\`SensitiveType:"Credit Card Number</span></span>| <span data-ttu-id="c669a-167">5..25" и LastSensitiveContentScan:"8/11/2018..8/13/2018» не FileExtension:XLSX "</span><span class="sxs-lookup"><span data-stu-id="c669a-167">5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018" NOT FileExtension:XLSX\`</span></span> <br/> |<span data-ttu-id="c669a-p113">Возвращает документы с числом 5-25 кредитной карты, которые были проверены из 11 августа 2018 через 13 августа 2018. Файлы с расширением XLSX не включаются в результаты запроса.  `FileExtension` — это один из многих свойств, которые можно включить в запрос. Дополнительные сведения можно [с помощью свойства поиска и операторы с обнаружения электронных данных](https://go.microsoft.com/fwlink/?LinkId=510093).</span><span class="sxs-lookup"><span data-stu-id="c669a-p113">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018. Files with an XLSX extension aren't included in the query results.  `FileExtension` is one of many properties that you can include in a query. For more information, see [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).  </span></span><br/> |
| `SensitiveType:"Credit Card Number" OR SensitiveType:"U.S. Social Security Number (SSN)"` <br/> |<span data-ttu-id="c669a-172">Возвращаются документы, содержащие номер кредитной карты или страховой номер (SSN).</span><span class="sxs-lookup"><span data-stu-id="c669a-172">This returns documents that contain either a credit card number or a social security number.</span></span>  <br/> |
   
## <a name="examples-of-queries-to-avoid"></a><span data-ttu-id="c669a-173">Примеры</span><span class="sxs-lookup"><span data-stu-id="c669a-173">Examples of queries to avoid</span></span>

<span data-ttu-id="c669a-p114">Не все запросы одинаковы. В следующей таблице приведены примеры запросов, которые не работают с защиты от потери данных в SharePoint и описываются причины.</span><span class="sxs-lookup"><span data-stu-id="c669a-p114">Not all queries are created equal. The following table gives examples of queries that don't work with DLP in SharePoint and describes why.</span></span>
  
|<span data-ttu-id="c669a-176">**Неподдерживаемый запрос**</span><span class="sxs-lookup"><span data-stu-id="c669a-176">**Unsupported query**</span></span>|<span data-ttu-id="c669a-177">**Reason**</span><span class="sxs-lookup"><span data-stu-id="c669a-177">**Reason**</span></span>|
|:-----|:-----|
| <span data-ttu-id="c669a-178">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-178">\`SensitiveType:"Credit Card Number</span></span>|<span data-ttu-id="c669a-179">.." \`</span><span class="sxs-lookup"><span data-stu-id="c669a-179">.."\`</span></span> <br/> |<span data-ttu-id="c669a-180">Необходимо добавить хотя бы один номер.</span><span class="sxs-lookup"><span data-stu-id="c669a-180">You must add at least one number.</span></span>  <br/> |
| `SensitiveType:"NotARule"` <br/> |<span data-ttu-id="c669a-p115">«NotARule» не будет имя допустимого типа конфиденциальной. Только имена в [данные инвентаризации типов конфиденциальной информации](https://go.microsoft.com/fwlink/?LinkID=509999) работать в запросах защиты от потери данных.</span><span class="sxs-lookup"><span data-stu-id="c669a-p115">"NotARule" isn't a valid sensitive type name. Only names in the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999) work in DLP queries.  </span></span><br/> |
| <span data-ttu-id="c669a-183">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-183">\`SensitiveType:"Credit Card Number</span></span>|<span data-ttu-id="c669a-184">0""</span><span class="sxs-lookup"><span data-stu-id="c669a-184">0"\`</span></span> <br/> |<span data-ttu-id="c669a-185">Нулевой не является допустимым как минимальное значение или максимальное значение в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="c669a-185">Zero isn't valid as either the minimum value or the maximum value in a range.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number"` <br/> |<span data-ttu-id="c669a-p116">Это может быть трудно для просмотра, но есть лишние пробелы между «Кредит» и «Карта», с помощью недопустимый запрос. Используйте имена типов точное конфиденциальные [данные инвентаризации типов конфиденциальной информации](https://go.microsoft.com/fwlink/?LinkID=509999).</span><span class="sxs-lookup"><span data-stu-id="c669a-p116">It's might be difficult to see, but there's extra white space between "Credit" and "Card" that makes the query invalid. Use exact sensitive type names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999).  </span></span><br/> |
| <span data-ttu-id="c669a-188">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-188">\`SensitiveType:"Credit Card Number</span></span>|<span data-ttu-id="c669a-189">1.. 3""</span><span class="sxs-lookup"><span data-stu-id="c669a-189">1. .3"\`</span></span> <br/> |<span data-ttu-id="c669a-190">Часть двух период не следует разделенные пробелом.</span><span class="sxs-lookup"><span data-stu-id="c669a-190">The two-period portion shouldn't be separated by a space.</span></span>  <br/> |
| <span data-ttu-id="c669a-191">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-191">\`SensitiveType:"Credit Card Number</span></span>| |<span data-ttu-id="c669a-192">1.</span><span class="sxs-lookup"><span data-stu-id="c669a-192">1..</span></span>|<span data-ttu-id="c669a-193">80..» "</span><span class="sxs-lookup"><span data-stu-id="c669a-193">80.."\`</span></span> <br/> |<span data-ttu-id="c669a-194">Существует слишком много (разделители) канала</span><span class="sxs-lookup"><span data-stu-id="c669a-194">There are too many pipe delimiters (</span></span>|<span data-ttu-id="c669a-p117">). Вместо этого выполните в этом формате: "SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-p117">). Follow this format instead: \`SensitiveType: "Credit Card Number</span></span>|<span data-ttu-id="c669a-197">1.</span><span class="sxs-lookup"><span data-stu-id="c669a-197">1..</span></span>|<span data-ttu-id="c669a-198">80..» "</span><span class="sxs-lookup"><span data-stu-id="c669a-198">80.."\`</span></span> <br/> |
| <span data-ttu-id="c669a-199">"SensitiveType: «номер кредитной карты</span><span class="sxs-lookup"><span data-stu-id="c669a-199">\`SensitiveType:"Credit Card Number</span></span>|<span data-ttu-id="c669a-200">1.</span><span class="sxs-lookup"><span data-stu-id="c669a-200">1..</span></span>|<span data-ttu-id="c669a-201">80..101""</span><span class="sxs-lookup"><span data-stu-id="c669a-201">80..101"\`</span></span> <br/> |<span data-ttu-id="c669a-p118">Так как процент представляют значения вероятности, не должна превышать 100. Выберите число от 1 до 100.</span><span class="sxs-lookup"><span data-stu-id="c669a-p118">Because confidence values represent a percentage, they can't exceed 100. Choose a number from 1 through 100 instead.</span></span>  <br/> |
   
## <a name="for-more-information"></a><span data-ttu-id="c669a-204">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="c669a-204">For more information</span></span>

[<span data-ttu-id="c669a-205">Что позволяют искать типы конфиденциальной информации</span><span class="sxs-lookup"><span data-stu-id="c669a-205">What the sensitive information types look for</span></span>](what-the-sensitive-information-types-look-for.md)
  
[<span data-ttu-id="c669a-206">Выполните поиск содержимого безопасности Office 365 &amp; центре соответствия требованиям</span><span class="sxs-lookup"><span data-stu-id="c669a-206">Run a Content Search in the Office 365 Security &amp; Compliance Center</span></span>](run-a-content-search-in-the-security-and-compliance-center.md)
  
[<span data-ttu-id="c669a-207">Запросы ключевых слов и условия поиска контента</span><span class="sxs-lookup"><span data-stu-id="c669a-207">Keyword queries and search conditions for Content Search</span></span>](keyword-queries-and-search-conditions.md)
  

