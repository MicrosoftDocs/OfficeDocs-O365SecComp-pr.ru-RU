---
title: Создание словаря ключевых слов
ms.author: chrfox
author: chrfox
manager: laurawi
audience: Admin
ms.topic: article
ms.service: O365-seccomp
ms.date: 04/11/2019
localization_priority: Normal
ms.collection:
- M365-security-compliance
search.appverid:
- MOE150
- MET150
description: Для определения конфиденциальной информации иногда требуется искать ключевые слова, в частности, при определении универсального контента (например, коммуникаций в сфере здравоохранения) либо неприемлемой или нецензурной лексики. Списки ключевых слов можно создавать в типах конфиденциальной информации, но размер этих списков ограничен, а для их создания и редактирования требуется модифицировать XML. Словари ключевых слов упрощают управление ключевыми словами и позволяют управлять ими в намного более крупных масштабах — до 100 000 терминов на словарь.
ms.openlocfilehash: 5e99cad328115ad6b49982ea4c5749cdea6e43ed
ms.sourcegitcommit: 7a0cb7e1da39fc485fc29e7325b843d16b9808af
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2019
ms.locfileid: "36230793"
---
# <a name="create-a-keyword-dictionary"></a>Создание словаря ключевых слов

Защита от потери данных (DLP) в Office 365 позволяет определять, отслеживать и защищать конфиденциальные данные. Для определения конфиденциальной информации иногда требуется поиск ключевых слов, особенно при определении общего контента (например, для общения с учетом здравоохранения) или неуместного или явного языка. Несмотря на то, что вы можете создавать списки ключевых слов в типах конфиденциальных данных, списки ключевых слов ограничены и требуют изменения XML для создания или изменения. Словари ключевых слов обеспечивают упрощенное управление ключевыми словами и на более крупном масштабе, поддерживающем до 100 000 терминов для каждого словаря.
  
## <a name="basic-steps-to-creating-a-keyword-dictionary"></a>Основные этапы создания словаря ключевых слов

Ключевые слова можно брать из различных источников, наиболее распространенными из которых являются файлы (например, списки в формате CSV или TXT), импортированные в службу или добавленные с помощью командлета PowerShell, списки, вводимые непосредственно в командлете PowerShell, и имеющиеся словари. При создании словаря ключевых слов всегда используются одни и те же основные действия:
  
1. Воспользуйтесь **центром безопасности & соответствия требованиям** ([https://protection.office.com](https://protection.office.com)) или подключитесь к **PowerShell центра &amp; безопасности Office 365 для обеспечения соответствия требованиям**.
    
2. **Определите или загрузите ключевые слова из предполагаемого источника**. Мастер и командлет принимают разделенный запятыми список ключевых слов для создания пользовательского словаря ключевых слов, поэтому этот шаг будет слегка отличаться в зависимости от того, откуда берутся ключевые слова. После загрузки они кодируются и преобразуются в байтовый массив, а затем импортируются.
    
3. **Создайте словарь**. Выберите имя и описание и создайте словарь.

## <a name="create-a-keyword-dictionary-using-the-security--compliance-center"></a>Создание словаря ключевых слов с помощью центра безопасности & соответствия требованиям

Используйте указанные ниже действия, чтобы создать и импортировать ключевые слова для пользовательского словаря:

1. Подключитесь к центру безопасности & соответствия требованиям[https://protection.office.com](https://protection.office.com)().

2. Перейдите в раздел **Классификации > Типы конфиденциальной информации**.

3. Нажмите кнопку **Создать** и введите **имя** и **описание** для типа конфиденциальной информации, затем нажмите кнопку **Далее**.

4. Нажмите кнопку **Добавить элемент** и выберите вариант **Словарь (большие ключевые слова)** в раскрывающемся списке **Обнаруживать содержимое с указанными элементами**.

5. Выберите команду **Добавить словарь**.

6. В разделе управления поиском щелкните ссылку **Создать словари ключевых слов можно здесь**.

7. Введите **имя** для пользовательского словаря.

8. Нажмите кнопку **Импорт** и выберите параметр **Из текста** или **Из CSV** в зависимости от типа файла ключевых слов.

9. В диалоговом окне поиска файла выберите файл ключевых слов на локальном компьютере или в общей сетевой папке и нажмите кнопку **Открыть**.

10. Нажмите кнопку **Сохранить**, затем выберите пользовательский словарь из списка **Словари ключевых слов**.

11. Нажмите кнопку **Добавить**, а затем **Далее**.

12. Проверьте и выберите окончательные параметры типа конфиденциальной информации, затем нажмите кнопку **Готово**. 
    
## <a name="create-a-keyword-dictionary-from-a-file-using-powershell"></a>Создание словаря ключевых слов из файла с помощью PowerShell

Часто при создании большого словаря необходимо использовать ключевые слова из файла или списка, экспортированного из другого источника. В этом случае вы создадите словарь ключевых слов, содержащий список неуместного языка для внешнего сообщения. Необходимо сначала [подключиться к оболочке PowerShell центра &amp; безопасности Office 365](https://docs.microsoft.com/powershell/exchange/office-365-scc/connect-to-scc-powershell/connect-to-scc-powershell).
  
1. Скопируйте ключевые слова в текстовый файл и убедитесь, что каждое ключевое слово находится на отдельной строке.
    
2. Сохраните текст с кодировкой Юникода. В Блокноте выберите пункты **Сохранить как** \> **Кодировка** \> **Юникод**.
    
3. Считайте файл в переменную с помощью следующего командлета:
    
    ```
    $fileData = Get-Content <filename> -Encoding Byte -ReadCount 0
    ```

4. Создайте словарь с помощью следующего командлета:
    
    ```
    New-DlpKeywordDictionary -Name <name> -Description <description> -FileData $fileData
    ```

## <a name="modifying-an-existing-keyword-dictionary"></a>Изменение имеющегося словаря ключевых слов

Иногда требуется изменить ключевые слова в одном из встроенных или своих собственных словарей. Сейчас обновить пользовательский словарь ключевых слов можно только с помощью PowerShell. 

Например, мы изменим некоторые термины в PowerShell, сохраняйте термины, которые вы можете изменить в редакторе, а затем обновляйте предыдущие термины на месте. 

Прежде всего получаем объект словаря:
  
```
$dict = Get-DlpKeywordDictionary -Name "Diseases"
```

При `$dict` печати будут показаны различные переменные. Сами ключевые слова хранятся в объекте на внутреннем стороне, но `$dict.KeywordDictionary` содержат строковые представления, которые используются для изменения словаря. 

Перед изменением словаря необходимо снова превратить строку терминов в массив с помощью `.split(',')` метода. Затем вы удалите ненужные пробелы между ключевыми словами с `.trim()` методом, оставив только ключевые слова для работы. 
  
```
$terms = $dict.KeywordDictionary.split(',').trim()
```

Теперь мы удалим некоторые термины из словаря. Так как наш словарь содержит лишь несколько ключевых слов, можно просто перейти к экспорту словаря и его редактированию в Блокноте. Однако словари обычно содержат большое количество текста, поэтому сначала следует научиться редактировать их в PowerShell.
  
На предыдущем этапе мы сохранили ключевые слова в массив. Существует несколько способов [удаления элементов из массива](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-powershell-1.0/ee692802(v=technet.10)), но для простоты мы создадим массив терминов, которые требуется удалить из словаря, а затем скопируем из словаря только те термины, которых нет в этом списке.
  
Выполните команду `$terms`, чтобы вывести текущий список терминов. Выходные данные этой команды выглядят так: 
  
```
aarskog's syndrome
abandonment
abasia
abderhalden-kaufmann-lignac
abdominalgia
abduction contracture
abetalipoproteinemia
abiotrophy
ablatio
ablation
ablepharia
abocclusion
abolition
aborter
abortion
abortus
aboulomania
abrami's disease
```

Выполните следующую команду, чтобы указать удаляемые элементы:
  
```
$termsToRemove = @('abandonment', 'ablatio')
```

Выполните следующую команду, чтобы фактически удалить термины из списка:
  
```
$updatedTerms = $terms | Where-Object{ $_ -notin $termsToRemove }
```

Выполните команду `$updatedTerms`, чтобы вывести обновленный список элементов. Выходные данные команды выглядят так (указанные термины были удалены): 
  
```
aarskog's syndrome
abasia
abderhalden-kaufmann-lignac
abdominalgia
abduction contracture
abetalipo proteinemia
abiotrophy
ablation
ablepharia
abocclusion
abolition
aborter
abortion
abortus
aboulomania
abrami's disease
```

Теперь сохраните словарь на локальном компьютере и добавьте еще несколько терминов. Вы можете добавить термины непосредственно в PowerShell, но вам по-прежнему потребуется экспортировать файл на локальный компьютер, чтобы убедиться, что он сохранен в кодировке Юникода и содержит BOM.
  
Сохраните словарь на локальном компьютере с помощью следующей команды:
  
```
Set-Content $updatedTerms -Path "C:\myPath\terms.txt"
```

Теперь просто откройте файл, добавьте нужные термины и сохраните его в кодировке Юникода (UTF-16). Затем мы отправим обновленные термины и обновим словарь на месте.
  
```
PS> Set-DlpKeywordDictionary -Identity "Diseases" -FileData (Get-Content -Path "C:myPath\terms.txt" -Encoding Byte -ReadCount 0)
```

Теперь словарь был обновлен на месте. Обратите внимание, что поле `Identity` принимает имя словаря. Если требуется изменить имя словаря, можно просто добавить в приведенный выше командлет `set-` параметр `-Name` с новым именем. 
  
## <a name="using-keyword-dictionaries-in-custom-sensitive-information-types-and-dlp-policies"></a>Использование словарей ключевых слов в типах конфиденциальной информации и политиках защиты от потери данных

Словари ключевых слов можно использовать в качестве части требований к соответствию для настраиваемого типа конфиденциальной информации или как сам тип конфиденциальной информации. Для обоих требуется создать настраиваемый [тип конфиденциальной информации](create-a-custom-sensitive-information-type-in-scc-powershell.md). Следуйте инструкциям в связанной статье, чтобы создать тип конфиденциальной информации. Когда у вас есть XML, вам потребуется идентификатор GUID для словаря, чтобы его использовать.
  
```
<Entity id="9e5382d0-1b6a-42fd-820e-44e0d3b15b6e" patternsProximity="300" recommendedConfidence="75">
    <Pattern confidenceLevel="75">
        <IdMatch idRef=". . ."/>
    </Pattern>
</Entity>
```

Чтобы получить идентификатор словаря, выполните следующую команду и скопируйте значение свойства **Identity**: 
  
```
Get-DlpKeywordDictionary -Name "Diseases"
```

Выходные данные команды выглядят так:
  
```
RunspaceId        : 138e55e7-ea1e-4f7a-b824-79f2c4252255
Identity          : 8d2d44b0-91f4-41f2-94e0-21c1c5b5fc9f
Name              : Diseases
Description       : Names of diseases and injuries from ICD-10-CM lexicon
KeywordDictionary : aarskog's syndrome, abandonment, abasia, abderhalden-kaufmann-lignac, abdominalgia, abduction contracture, abetalipo
                    proteinemia, abiotrophy, ablatio, ablation, ablepharia, abocclusion, abolition, aborter, abortion, abortus, aboulomania,
                    abrami's disease, abramo
IsValid           : True
ObjectState       : Unchanged
```

Вставьте идентификатор в XML-код вашего типа конфиденциальной информации и отправьте код. Словарь появится в списке типов конфиденциальной информации, и вы сможете использовать его непосредственно в политике, указав, сколько ключевых слов требуется для совпадения.
  
```
<Entity id="d333c6c2-5f4c-4131-9433-db3ef72a89e8" patternsProximity="300" recommendedConfidence="85">
      <Pattern confidenceLevel="85">
        <IdMatch idRef="8d2d44b0-91f4-41f2-94e0-21c1c5b5fc9f" />
      </Pattern>
    </Entity>
    <LocalizedStrings>
      <Resource idRef="d333c6c2-5f4c-4131-9433-db3ef72a89e8">
        <Name default="true" langcode="en-us">Diseases</Name>
        <Description default="true" langcode="en-us">Detects various diseases</Description>
      </Resource>
    </LocalizedStrings>
```


