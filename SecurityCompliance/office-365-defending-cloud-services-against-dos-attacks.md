---
title: 'Office 365: защита облачных служб от атак типа "отказ в обслуживании"'
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Сведения о том, как корпорация Майкрософт защищает облачные службы от атак типа "отказ в обслуживании" (DoS).
ms.openlocfilehash: 64a99347e22612bba2035092764ed3714b596228
ms.sourcegitcommit: c94cb88a9ce5bcc2d3c558f0fcc648519cc264a2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/20/2019
ms.locfileid: "30091001"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="20acf-103">Защита облачных служб Майкрософт от атак типа "отказ в обслуживании"</span><span class="sxs-lookup"><span data-stu-id="20acf-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="20acf-104">Введение</span><span class="sxs-lookup"><span data-stu-id="20acf-104">Introduction</span></span>
<span data-ttu-id="20acf-p101">Центры обработки данных Майкрософт защищены с помощью безопасности, которая включает ограждение периметра, видеокамеры, персонал безопасности и защищенные входы, использующие биометрию, смарт-карты и многофакторную проверку подлинности. Глубокая защита системы безопасности продолжается через каждую область и на каждый физический серверный модуль. [ОблачНая инфраструктура и группы операций Майкрософт](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) предоставляют основные технологии инфраструктуры и фундаментов для облачных служб. Наши центры обработки данных соответствуют отраслевым стандартам для обеспечения физической безопасности и надежности и управляются, контролируются и управляются сотрудниками Microsoft Operations.</span><span class="sxs-lookup"><span data-stu-id="20acf-p101">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication. The defense-in-depth security continues through every area of the facility and to each physical server unit. The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services. Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="20acf-p102">Для дальнейшей защиты облачных служб корпорация Майкрософт предоставляет систему защиты DDoS, которая входит в процессы непрерывного мониторинга Microsoft Azure и тестирования уязвимости. Система защиты Azure DDoS предназначена не только для защиты от атак извне, но и от других клиентов Azure. Azure использует стандартные методы обнаружения и устранения угроз, такие как файлы cookie SYN, ограничения скорости и ограничения подключения для защиты от атак DDoS.</span><span class="sxs-lookup"><span data-stu-id="20acf-p102">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes. The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants. Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="20acf-p103">В облачных службах Майкрософт лежит угроза атак из нескольких источников. Чтобы избежать и защититься от различных угроз DoS, вы разработали и разработали систему обнаружения и устранения угроз на основе Azure с высоким уровнем масштабируемости и внедрением, с основной целью защиты базовой инфраструктуры от атак DoS и помогает предотвратить перерывы в обслуживании для клиентов облачных служб. Система устранения проблем в Azure DoS обеспечивает защиту входящего, исходящего трафика и региона по регионам.</span><span class="sxs-lookup"><span data-stu-id="20acf-p103">Microsoft's cloud services are subject to the threat of attack from multiple sources. To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system has been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers. The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="20acf-p104">Большинство атак DoS, запущенных для целевых объектов на уровне сети (L3) и транспорта (L3) модели [соединений открытых систем](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI). Атаки, направленные на уровни L3 и L3, предназначены для перегрузки сетевого интерфейса или службы с трафиком от атак в перегруженные ресурсы и запретом на подлинный трафик. В частности, атаки L3 и L3 пытаются нагрузить мощность сетевых ссылок, устройств или служб или перегрузить ЦП серверов или виртуальных машин, поддерживающих приложение.</span><span class="sxs-lookup"><span data-stu-id="20acf-p104">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model. Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic. Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="20acf-p105">Чтобы защититься от атак L3 и L3, корпорация Майкрософт разработала, разработала и развернула решение, предназначенное специально для защиты инфраструктуры и целевых объектов клиентов, которые подвержены атакам путем защиты этих уровней. Защита инфраструктуры гарантирует, что трафик атаки, предназначенный для одного клиента, не приводит к повреждению сопутствующего набора или снижению качества обслуживания для других клиентов. Решение использует данные выборки трафика из маршрутизаторов центра данных. Эти данные анализируются службой мониторинга сети для обнаружения атак. При обнаружении атаки автоматические механизмы защиты запускаются в.</span><span class="sxs-lookup"><span data-stu-id="20acf-p105">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers. Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers. The solution uses traffic sampling data from datacenter routers. This data is analyzed by a network monitoring service to detect attacks. When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="20acf-123">Защита на уровне приложений</span><span class="sxs-lookup"><span data-stu-id="20acf-123">Application-Level Defenses</span></span>
<span data-ttu-id="20acf-p106">Отделы отделов Майкрософт подключаются к строгим стандартам, установленным службой [Microsoft Operational Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) , для защиты данных клиентов. Облачные службы Майкрософт специально разработаны для поддержки очень высокой нагрузки, а также для защиты от атак DoS на уровне приложения и их устранения. Мы реализовали архитектуру с горизонтальным масштабированием, в которой службы распределены между несколькими глобальными центрами обработки данных с региональными функциями изоляции и регулирования в некоторых рабочих нагрузках.</span><span class="sxs-lookup"><span data-stu-id="20acf-p106">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data. Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks. We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="20acf-p107">Страна или регион каждого клиента, определяемые администратором клиента во время начальной настройки служб, определяет основное место хранения данных этого клиента. Данные клиентов реплицируются между избыточными центрами обработки данных в соответствии с стратегией основного и резервного копирования. В основном центре данных размещается программное обеспечение приложений вместе со всеми основными данными клиента, выполняемыми на программном обеспечении. Резервный центр обработки данных обеспечивает автоматическую отработку отказа. Если основной центр обработки данных перестает работать по какой либо причине, запросы будут перенаправляться в копию программного обеспечения и данных клиента в резервном центре обработки данных. В данный момент данные клиентов могут обрабатываться в основном или резервном центре данных. Распределение данных между несколькими центрами обработки данных снижает затронутую область поверхности при атаке на один центр обработки данных. Кроме того, службы в центре обработки данных могут быть быстро перенаправлены во вспомогательный центр обработки данных в качестве одного из механизмов восстановления и наоборот (перенаправление обратно в основной центр обработки данных после восстановления службы.</span><span class="sxs-lookup"><span data-stu-id="20acf-p107">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data. Customer data is replicated between redundant datacenters according to a primary/backup strategy. A primary datacenter hosts the application software along with all the primary customer data running on the software. A backup datacenter provides automatic failover. If the primary datacenter ceases to function for any reason, requests will be redirected to the copy of the software and customer data in the backup datacenter. At any given time, customer data may be processed in either the primary or the backup datacenter. Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked. Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="20acf-p108">Отдельные рабочие нагрузки включают встроенные функции, которые управляют использованием ресурсов. Например, механизмы регулирования в Exchange Online и SharePoint Online являются частью многоуровневой методики защиты от атак DoS. Регулирование для пользователей Exchange Online зависит от уровня ресурсов, потребляемых конечным пользователем, от того, находятся ли ресурсы в Active Directory, банке данных Exchange Online или в другом месте. Для каждого клиента выделяется бюджет для ограничения ресурсов, потребляемых пользователем. Регулирование Exchange Online для действий пользователей и компонентов системы основано на [управлении рабочей](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx)нагрузкой. Рабочая нагрузка Exchange Online это компонент, протокол или служба Exchange Online, которая была явно определена в целях управления ресурсами системы Exchange Online. Для каждой рабочей нагрузки Exchange Online необходимы системные ресурсы, такие как ЦП, операции базы данных почтовых ящиков или запросы Active Directory для выполнения пользовательских запросов или фоновой работы. К примерам рабочих нагрузок Exchange Online относятся Outlook в Интернете, Exchange ActiveSync, перенос почтовых ящиков и помощники по обслуживанию почтовых ящиков. Администраторы клиентов могут управлять параметрами регулирования управления рабочими нагрузками Exchange для пользователей с помощью командной консоли Exchange. Существуют различные формы регулирования, реализованные в Exchange Online, в том числе PowerShell, веб-службы Exchange, а также POP и IMAP, Exchange ActiveSync, подключения к мобильным устройствам, получателей и многое другое. Администраторы локальных развертываний Exchange могут настраивать политики регулирования, но администраторы не могут настраивать политики регулирования для Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="20acf-p108">Individual workloads include built-in features that manage resource utilization. For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks. Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere. A budget is allocated to each client to limit the resources consumed by a user. Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx). An Exchange Online workload is an Exchange Online feature, protocol, or service which has been explicitly defined for the purposes of Exchange Online system resource management. Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work. Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants. Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell. There are various forms of throttling which have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more. While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="20acf-p109">Наиболее распространенный триггер регулирования в SharePoint Online — это код клиентской объектной модели (CSOM), который выполняет слишком много действий на слишком высоком частоте. С помощью CSOM многие действия могут выполняться с одним запросом, который может превышать ограничения использования и вызывать регулирование для отдельных пользователей.</span><span class="sxs-lookup"><span data-stu-id="20acf-p109">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency. With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="20acf-p110">Независимо от действия, которое может привести к регулированию, когда пользователь превышает пределы использования, SharePoint Online перерегулирует все дальнейшие запросы от этой учетной записи пользователя, обычно в течение короткого периода времени. Пока действует регулирование пользователя, все действия, выполняемые этим пользователем, заменяются до истечения срока действия регулирования в соответствии со следующими условиями:</span><span class="sxs-lookup"><span data-stu-id="20acf-p110">Regardless of the activity which might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period of time. While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="20acf-150">Для запросов, выполняемых пользователем непосредственно в браузере, SharePoint Online перенаправляет на страницу информации регулирования и запросы не выполняются.</span><span class="sxs-lookup"><span data-stu-id="20acf-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="20acf-151">Для всех остальных запросов, в том числе вызовов CSOM, SharePoint Online возвращает код состояния HTTP 429 ("слишком много запросов"), и запросы не проходят.</span><span class="sxs-lookup"><span data-stu-id="20acf-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="20acf-152">Если процесс, вызывающий неполадку, по-прежнему превышает пределы использования, SharePoint Online может полностью заблокировать процесс и вернуть код состояния HTTP 503 ("Служба недоступна").</span><span class="sxs-lookup"><span data-stu-id="20acf-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="20acf-153">Проверка уязвимостей и уязвимостей</span><span class="sxs-lookup"><span data-stu-id="20acf-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="20acf-154">Корпорация Майкрософт использует многие [технологии и рекомендации по обеспечению безопасности](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) для [защиты облачной инфраструктуры](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) и локальных сетей от современных сложных угроз, в том числе с помощью компонентов и служб защиты от вредоносных программ для облачных служб, виртуального машины (ВМ) и другие системы; Advanced Threat Analytics, который отслеживает нормальные шаблоны использования для сетей, систем и пользователей и использует машинное обучение, чтобы отмечать поведение, не являющееся обычным и регулярным тестированием уязвимости.</span><span class="sxs-lookup"><span data-stu-id="20acf-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems; Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="20acf-p111">В дополнение к выполнению собственных тестов на проникновение и предложения для наших клиентов с помощью [программы тестирования единой системы Microsoft Cloud для тестирования](https://technet.microsoft.com/en-us/mt784683), мы также будем привлекаться к сторонним специалистам по безопасности, которые выполняют регулярную оценку уязвимостей и Тестирование уязвимости в облачных службах. Мы предоставляем отчеты от этих сторонних оценочных уязвимостей, которые можно скачать из [отношения доверия со службой](https://aka.ms/STP) и порталов [гарантии службы](https://aka.ms/ServiceAssurance) .</span><span class="sxs-lookup"><span data-stu-id="20acf-p111">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services. We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
