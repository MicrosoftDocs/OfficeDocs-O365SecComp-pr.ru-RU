---
title: 'Office 365: защита облачных служб от атак типа "отказ в обслуживании"'
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Сведения о том, как корпорация Майкрософт защищает облачные службы от атак типа "отказ в обслуживании" (DoS).
ms.openlocfilehash: 932e5a4d206a9d91c81e868e353259db954a2452
ms.sourcegitcommit: f0d23e57b00f07cef5b1b2d366eaeeeacda37e3e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/18/2019
ms.locfileid: "35786694"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="f8043-103">Защита облачных служб Майкрософт от атак типа "отказ в обслуживании"</span><span class="sxs-lookup"><span data-stu-id="f8043-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="f8043-104">Общие сведения</span><span class="sxs-lookup"><span data-stu-id="f8043-104">Introduction</span></span>
<span data-ttu-id="f8043-105">Центры обработки данных Майкрософт защищены с помощью безопасности, которая включает ограждение периметра, видеокамеры, персонал безопасности и защищенные входы, использующие биометрию, смарт-карты и многофакторную проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="f8043-105">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication.</span></span> <span data-ttu-id="f8043-106">Глубокая защита системы безопасности продолжается через каждую область и на каждый физический серверный модуль.</span><span class="sxs-lookup"><span data-stu-id="f8043-106">The defense-in-depth security continues through every area of the facility and to each physical server unit.</span></span> <span data-ttu-id="f8043-107">[Облачная инфраструктура и группы операций Майкрософт](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) предоставляют основные технологии инфраструктуры и фундаментов для облачных служб.</span><span class="sxs-lookup"><span data-stu-id="f8043-107">The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services.</span></span> <span data-ttu-id="f8043-108">Наши центры обработки данных соответствуют отраслевым стандартам для обеспечения физической безопасности и надежности и управляются, контролируются и управляются сотрудниками Microsoft Operations.</span><span class="sxs-lookup"><span data-stu-id="f8043-108">Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="f8043-109">Для дальнейшей защиты облачных служб корпорация Майкрософт предоставляет систему защиты DDoS, которая входит в процессы непрерывного мониторинга Microsoft Azure и тестирования уязвимости.</span><span class="sxs-lookup"><span data-stu-id="f8043-109">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="f8043-110">Система защиты Azure DDoS предназначена не только для защиты от атак извне, но и от других клиентов Azure.</span><span class="sxs-lookup"><span data-stu-id="f8043-110">The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants.</span></span> <span data-ttu-id="f8043-111">Azure использует стандартные методы обнаружения и устранения угроз, такие как файлы cookie SYN, ограничения скорости и ограничения подключения для защиты от атак DDoS.</span><span class="sxs-lookup"><span data-stu-id="f8043-111">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="f8043-112">В облачных службах Майкрософт лежит угроза атак из нескольких источников.</span><span class="sxs-lookup"><span data-stu-id="f8043-112">Microsoft's cloud services are subject to the threat of attack from multiple sources.</span></span> <span data-ttu-id="f8043-113">Чтобы избежать и защититься от различных угроз DoS, вы разработали и разработали систему обнаружения и устранения угроз на основе Azure с высоким уровнем масштабируемости и внедрением, реализованными с основной целью защиты базовой инфраструктуры от DoS атаки и помощь в предотвращении перерывов в обслуживании для клиентов облачных служб.</span><span class="sxs-lookup"><span data-stu-id="f8043-113">To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system have been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers.</span></span> <span data-ttu-id="f8043-114">Система устранения проблем в Azure DoS обеспечивает защиту входящего, исходящего трафика и региона по регионам.</span><span class="sxs-lookup"><span data-stu-id="f8043-114">The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="f8043-115">Большинство атак DoS, запущенных для целевых объектов на уровне сети (L3) и транспорта (L3) модели [соединений открытых систем](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI).</span><span class="sxs-lookup"><span data-stu-id="f8043-115">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="f8043-116">Атаки, направленные на уровни L3 и L3, предназначены для перегрузки сетевого интерфейса или службы с трафиком от атак в перегруженные ресурсы и запретом на подлинный трафик.</span><span class="sxs-lookup"><span data-stu-id="f8043-116">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="f8043-117">В частности, атаки L3 и L3 пытаются нагрузить мощность сетевых ссылок, устройств или служб или перегрузить ЦП серверов или виртуальных машин, поддерживающих приложение.</span><span class="sxs-lookup"><span data-stu-id="f8043-117">Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="f8043-118">Чтобы защититься от атак L3 и L3, корпорация Майкрософт разработала, разработала и развернула решение, предназначенное специально для защиты инфраструктуры и целевых объектов клиентов, которые подвержены атакам путем защиты этих уровней.</span><span class="sxs-lookup"><span data-stu-id="f8043-118">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers.</span></span> <span data-ttu-id="f8043-119">Защита инфраструктуры гарантирует, что трафик атаки, предназначенный для одного клиента, не приводит к повреждению сопутствующего набора или снижению качества обслуживания для других клиентов.</span><span class="sxs-lookup"><span data-stu-id="f8043-119">Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span> <span data-ttu-id="f8043-120">Решение использует данные выборки трафика из маршрутизаторов центра данных.</span><span class="sxs-lookup"><span data-stu-id="f8043-120">The solution uses traffic sampling data from datacenter routers.</span></span> <span data-ttu-id="f8043-121">Эти данные анализируются службой мониторинга сети для обнаружения атак.</span><span class="sxs-lookup"><span data-stu-id="f8043-121">This data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="f8043-122">При обнаружении атаки автоматические механизмы защиты запускаются в.</span><span class="sxs-lookup"><span data-stu-id="f8043-122">When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="f8043-123">Защита на уровне приложений</span><span class="sxs-lookup"><span data-stu-id="f8043-123">Application-Level Defenses</span></span>
<span data-ttu-id="f8043-124">Отделы отделов Майкрософт подключаются к строгим стандартам, установленным службой [Microsoft Operational Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) , для защиты данных клиентов.</span><span class="sxs-lookup"><span data-stu-id="f8043-124">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="f8043-125">Облачные службы Майкрософт специально разработаны для поддержки очень высокой нагрузки, а также для защиты от атак DoS на уровне приложения и их устранения.</span><span class="sxs-lookup"><span data-stu-id="f8043-125">Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks.</span></span> <span data-ttu-id="f8043-126">Мы реализовали архитектуру с горизонтальным масштабированием, в которой службы распределены между несколькими глобальными центрами обработки данных с региональными функциями изоляции и регулирования в некоторых рабочих нагрузках.</span><span class="sxs-lookup"><span data-stu-id="f8043-126">We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="f8043-127">Страна или регион каждого клиента, определяемые администратором клиента во время начальной настройки служб, определяет основное место хранения данных этого клиента.</span><span class="sxs-lookup"><span data-stu-id="f8043-127">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="f8043-128">Данные клиентов реплицируются между избыточными центрами обработки данных в соответствии с стратегией основного и резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="f8043-128">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="f8043-129">В основном центре данных размещается программное обеспечение приложений вместе со всеми основными данными клиента, выполняемыми на программном обеспечении.</span><span class="sxs-lookup"><span data-stu-id="f8043-129">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="f8043-130">Резервный центр обработки данных обеспечивает автоматическую отработку отказа.</span><span class="sxs-lookup"><span data-stu-id="f8043-130">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="f8043-131">Если основной центр обработки данных перестает работать по какой либо причине, запросы перенаправляются на копию программного обеспечения и данных клиента в резервном центре обработки данных.</span><span class="sxs-lookup"><span data-stu-id="f8043-131">If the primary datacenter ceases to function for any reason, requests are redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="f8043-132">В данный момент данные клиентов могут обрабатываться в основном или резервном центре данных.</span><span class="sxs-lookup"><span data-stu-id="f8043-132">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="f8043-133">Распределение данных между несколькими центрами обработки данных снижает затронутую область поверхности при атаке на один центр обработки данных.</span><span class="sxs-lookup"><span data-stu-id="f8043-133">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="f8043-134">Кроме того, службы в центре обработки данных могут быть быстро перенаправлены во вспомогательный центр обработки данных в качестве одного из механизмов восстановления и наоборот (перенаправление обратно в основной центр обработки данных после восстановления службы.</span><span class="sxs-lookup"><span data-stu-id="f8043-134">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="f8043-135">Отдельные рабочие нагрузки включают встроенные функции, которые управляют использованием ресурсов.</span><span class="sxs-lookup"><span data-stu-id="f8043-135">Individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="f8043-136">Например, механизмы регулирования в Exchange Online и SharePoint Online являются частью многоуровневой методики защиты от атак DoS.</span><span class="sxs-lookup"><span data-stu-id="f8043-136">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span> <span data-ttu-id="f8043-137">Регулирование для пользователей Exchange Online зависит от уровня ресурсов, потребляемых конечным пользователем, от того, находятся ли ресурсы в Active Directory, банке данных Exchange Online или в другом месте.</span><span class="sxs-lookup"><span data-stu-id="f8043-137">Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere.</span></span> <span data-ttu-id="f8043-138">Для каждого клиента выделяется бюджет для ограничения ресурсов, потребляемых пользователем.</span><span class="sxs-lookup"><span data-stu-id="f8043-138">A budget is allocated to each client to limit the resources consumed by a user.</span></span> <span data-ttu-id="f8043-139">Регулирование Exchange Online для действий пользователей и компонентов системы основано на [управлении рабочей](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx)нагрузкой.</span><span class="sxs-lookup"><span data-stu-id="f8043-139">Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx).</span></span> <span data-ttu-id="f8043-140">Рабочая нагрузка Exchange Online это компонент, протокол или служба Exchange Online, которые были явно определены в целях управления ресурсами системы Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="f8043-140">An Exchange Online workload is an Exchange Online feature, protocol, or service that has been explicitly defined for the purposes of Exchange Online system resource management.</span></span> <span data-ttu-id="f8043-141">Для каждой рабочей нагрузки Exchange Online необходимы системные ресурсы, такие как ЦП, операции базы данных почтовых ящиков или запросы Active Directory для выполнения пользовательских запросов или фоновой работы.</span><span class="sxs-lookup"><span data-stu-id="f8043-141">Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work.</span></span> <span data-ttu-id="f8043-142">К примерам рабочих нагрузок Exchange Online относятся Outlook в Интернете, Exchange ActiveSync, перенос почтовых ящиков и помощники по обслуживанию почтовых ящиков.</span><span class="sxs-lookup"><span data-stu-id="f8043-142">Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants.</span></span> <span data-ttu-id="f8043-143">Администраторы клиентов могут управлять параметрами регулирования управления рабочими нагрузками Exchange для пользователей с помощью командной консоли Exchange.</span><span class="sxs-lookup"><span data-stu-id="f8043-143">Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell.</span></span> <span data-ttu-id="f8043-144">Существуют различные формы регулирования, реализованные в Exchange Online, в том числе PowerShell, веб-службы Exchange, а также POP и IMAP, Exchange ActiveSync, подключения к мобильным устройствам, получателей и многое другое.</span><span class="sxs-lookup"><span data-stu-id="f8043-144">There are various forms of throttling that have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more.</span></span> <span data-ttu-id="f8043-145">Администраторы локальных развертываний Exchange могут настраивать политики регулирования, но администраторы не могут настраивать политики регулирования для Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="f8043-145">While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="f8043-146">Наиболее распространенный триггер регулирования в SharePoint Online — это код клиентской объектной модели (CSOM), который выполняет слишком много действий на слишком высоком частоте.</span><span class="sxs-lookup"><span data-stu-id="f8043-146">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency.</span></span> <span data-ttu-id="f8043-147">С помощью CSOM многие действия могут выполняться с одним запросом, который может превышать ограничения использования и вызывать регулирование для отдельных пользователей.</span><span class="sxs-lookup"><span data-stu-id="f8043-147">With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="f8043-148">Независимо от действия, которое может привести к регулированию, когда пользователь превышает пределы использования, SharePoint Online перерегулирует все дальнейшие запросы от этой учетной записи пользователя, обычно в течение короткого периода.</span><span class="sxs-lookup"><span data-stu-id="f8043-148">Regardless of the activity that might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period.</span></span> <span data-ttu-id="f8043-149">Пока действует регулирование пользователя, все действия, выполняемые этим пользователем, заменяются до истечения срока действия регулирования в соответствии со следующими условиями:</span><span class="sxs-lookup"><span data-stu-id="f8043-149">While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="f8043-150">Для запросов, выполняемых пользователем непосредственно в браузере, SharePoint Online перенаправляет на страницу информации регулирования и запросы не выполняются.</span><span class="sxs-lookup"><span data-stu-id="f8043-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="f8043-151">Для всех остальных запросов, в том числе вызовов CSOM, SharePoint Online возвращает код состояния HTTP 429 ("слишком много запросов"), и запросы не проходят.</span><span class="sxs-lookup"><span data-stu-id="f8043-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="f8043-152">Если процесс, вызывающий неполадку, по-прежнему превышает пределы использования, SharePoint Online может полностью заблокировать процесс и вернуть код состояния HTTP 503 ("Служба недоступна").</span><span class="sxs-lookup"><span data-stu-id="f8043-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="f8043-153">Проверка уязвимостей и уязвимостей</span><span class="sxs-lookup"><span data-stu-id="f8043-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="f8043-154">Корпорация Майкрософт использует многие [технологии и рекомендации по обеспечению безопасности](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) для [защиты облачной инфраструктуры](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) и локальных сетей от современных сложных угроз, в том числе с помощью компонентов и служб защиты от вредоносных программ для облачных служб, виртуального машины (ВМ) и другие системы.</span><span class="sxs-lookup"><span data-stu-id="f8043-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems.</span></span> <span data-ttu-id="f8043-155">Advanced Threat Analytics, который отслеживает нормальные шаблоны использования для сетей, систем и пользователей и использует машинное обучение, чтобы отмечать поведение, не являющееся обычным и регулярным тестированием уязвимости.</span><span class="sxs-lookup"><span data-stu-id="f8043-155">Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="f8043-156">В дополнение к выполнению собственных тестов на проникновение и предложения для наших клиентов с помощью [программы тестирования единой системы Microsoft Cloud для тестирования](https://technet.microsoft.com/en-us/mt784683), мы также будем привлекаться к сторонним специалистам по безопасности, которые выполняют регулярную оценку уязвимостей и Тестирование уязвимости в облачных службах.</span><span class="sxs-lookup"><span data-stu-id="f8043-156">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services.</span></span> <span data-ttu-id="f8043-157">Мы предоставляем отчеты от этих сторонних оценочных уязвимостей, которые можно скачать из [отношения доверия со службой](https://aka.ms/STP) и порталов [гарантии службы](https://aka.ms/ServiceAssurance) .</span><span class="sxs-lookup"><span data-stu-id="f8043-157">We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
