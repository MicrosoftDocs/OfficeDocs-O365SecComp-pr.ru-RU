---
title: Настройка фильтрации разрешений для поиска содержимого
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 5/14/2018
ms.audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection: Strat_O365_IP
search.appverid:
- MOE150
- MET150
ms.assetid: 1adffc35-38e5-4f7d-8495-8e0e8721f377
description: С помощью разрешений поиска контента, фильтрация сообщите диспетчер обнаружения электронных данных поиска только подмножество почтовых ящиков и сайтов в организации Office 365.
ms.openlocfilehash: 2b6968a097e7abe5943a84b9ceb9b6d126057cc2
ms.sourcegitcommit: c166964fe14eec69139a2d3d9c10d2c40ab33f91
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2018
ms.locfileid: "23258627"
---
# <a name="configure-permissions-filtering-for-content-search"></a>Настройка фильтрации разрешений для поиска содержимого

Можно использовать фильтрацию, чтобы позволить диспетчер обнаружения электронных данных поиска только подмножество почтовых ящиков и сайтов в организации Office 365 разрешения поиска. Можно также использовать разрешения фильтрацию для этого же диспетчер обнаружения электронных данных поиск только содержимое почтовых ящиков или сайта, удовлетворяет определенным условиям поиска. Например можно разрешить диспетчер обнаружения электронных данных поиска только почтовые ящики пользователей в определенное расположение или отдела. Для этого необходимо создать фильтр, использующий поддерживаемые фильтра получателя для ограничения может быть выполнен какие почтовые ящики. Также можно создать фильтр, который определяет, какой контент почтового ящика может быть выполнен. Для этого необходимо создать фильтр, который использует свойство для поиска сообщений. Аналогично можно разрешить диспетчер обнаружения электронных данных поиск только определенных сайтов SharePoint в вашей организации. Для этого необходимо создать фильтр, который ограничивает какой сайт может быть выполнен. Также можно создать фильтр, который определяет, какой контент сайта может быть выполнен. Для этого необходимо создать фильтр, который использует свойство для поиска сайта.

Вы также можете использовать разрешения поиска фильтрации для создания логических границ (называемые *границы соответствия требованиям*) в организации Office 365, которые управляют размещения содержимого пользователя (например, почтовые ящики, сайты SharePoint и учетные записи OneDrive), Менеджеры конкретных обнаружения электронных данных могут выполнять поиск. Дополнительные сведения см в [установке границ соответствия требованиям для исследования обнаружения электронных данных в Office 365](set-up-compliance-boundaries.md).
  
Фильтрация разрешения поиска поддерживается компонент поиска контента в Office 365 безопасность &amp; центре соответствия требованиям. Эти четыре командлеты позволяют настройки и управления фильтры permisisons поиска:
  
[Новый ComplianceSecurityFilter](#new-compliancesecurityfilter)

[Get-ComplianceSecurityFilter](#get-compliancesecurityfilter)

[SET-ComplianceSecurityFilter](#set-compliancesecurityfilter)

[Remove-ComplianceSecurityFilter](#remove-compliancesecurityfilter)

## <a name="before-you-begin"></a>Перед началом работы

- Для запуска командлетов Фильтр соответствия требованиям безопасности, необходимо быть участником группы ролей управления организацией в системы &amp; центре соответствия требованиям. Дополнительные сведения можно [разрешения безопасности Office 365 &amp; центре соответствия требованиям](permissions-in-the-security-and-compliance-center.md).
    
- Необходимо подключение Windows PowerShell для обоих безопасности &amp; центре соответствия требованиям и для организации Exchange Online для использования командлетов Фильтр соответствия требованиям безопасности. Это необходимо, так как эти командлеты, которым требуется доступ к свойства почтового ящика, поэтому необходимо подключение к Exchange Online. В разделе действия, описанные в следующем разделе. 
    
- Дополнительные сведения о фильтрах разрешений поиска см. в статье [More information](#more-information). 
    
- Фильтрация разрешения поиска применим к неактивные почтовые ящики, это означает, что можно использовать почтовый ящик и содержимого почтового ящика, фильтрация ограничение пользователей, которые могут выполнять поиск неактивного почтового ящика. В разделе [Дополнительные сведения](#more-information) для получения дополнительных сведений о разрешениях фильтрации и неактивные почтовые ящики. 
    
-  Фильтрация разрешения поиска не может использоваться для ограничения, кто может выполнять поиск общих папок в Exchange. 
    
- Нет ограничений на количество фильтров поиска разрешений, которые могут быть созданы в организации. Тем не менее производительность поиска будут затронуты при наличии более 100 поисковых фильтров разрешения. Для хранения количество фильтров разрешения поиска в вашей организации максимально, создайте фильтры, которые объединение правил для Exchange, SharePoint и OneDrive в один фильтр, когда это возможно.
    
## <a name="connect-to-the-security-amp-compliance-center-and-exchange-online-in-a-single-remote-powershell-session"></a>Подключение к безопасности &amp; центре соответствия требованиям и Exchange Online в одном удаленного сеанса PowerShell

1. Сохраните следующий текст в файл сценария Windows PowerShell с помощью суффикса имени файла .ps1. Например может сохранить его в файл с именем ConnectEXO CC.ps1.
    
    ```
    $UserCredential = Get-Credential
    $Session = New-PSSession -ConfigurationName Microsoft.Exchange -ConnectionUri https://ps.outlook.com/powershell-liveid -Credential $UserCredential -Authentication Basic -AllowRedirection
    Import-PSSession $Session -DisableNameChecking
    $Session = New-PSSession -ConfigurationName Microsoft.Exchange -ConnectionUri https://ps.compliance.protection.outlook.com/powershell-liveid -Credential $UserCredential -Authentication Basic -AllowRedirection
    Import-PSSession $Session -AllowClobber -DisableNameChecking
    $Host.UI.RawUI.WindowTitle = $UserCredential.UserName + " (Exchange Online + Compliance Center)"
    ```

2. На локальном компьютере откройте Windows PowerShell, перейдите к папке, где находится сценарий, созданный на предыдущем шаге и затем запустите сценарий; Например:
    
    ```
    .\ConnectEXO-CC.ps1
    ```
 
Как узнать, если это работает? После запуска сценария командлеты из безопасности &amp; центре соответствия требованиям и Exchange Online могут быть импортированы в локальный сеанс Windows PowerShell. Если сообщений об ошибках нет, то подключение успешно. Быстрой проверки должна выполняться безопасности &amp; центре соответствия требованиям командлета —, например **Install-UnifiedCompliancePrerequisite** — и Exchange Online командлета, таких как **Get-Mailbox**. 
  
Если возникают ошибки, просмотрите список возможных причин ниже.
  
- Распространенная проблема — неправильный пароль. Повторите два описанных выше действия. Особенное внимание уделите вводу имени пользователя и пароля на шаге 1.
    
- Убедитесь, что учетная запись имеет разрешение на доступ к безопасности &amp; центре соответствия требованиям. Дополнительные сведения см [предоставления пользователям доступа к безопасности &amp; центре соответствия требованиям](grant-access-to-the-security-and-compliance-center.md).
    
- Для предотвращения атак типа "отказ в обслуживании" (DoS) можно открыть не более трех подключений консоли PowerShell безопасности &amp; центре соответствия требованиям.
    
- Windows PowerShell необходимо настроить для запуска сценариев. Эта настройка выполняется на компьютере только однажды, а не каждый раз при подключении. Чтобы включить выполнение подписанных сценариев в Windows PowerShell, выполните следующую команду в окне Windows PowerShell с повышенными привилегиями (окно Windows PowerShell, которое открывается с помощью параметра **Запуск от имени администратора**).

    ```
    Set-ExecutionPolicy RemoteSigned
    ```
- TCP-порт 80 трафик должен быть открытыми между локальным компьютером и Office 365. Возможно, открыта, но это что-то необходимо рассмотреть, если в вашей организации есть ограничительная политика доступа Интернет.
    

  
## <a name="new-compliancesecurityfilter"></a>Новый ComplianceSecurityFilter
<a name="New"> </a>

**New-ComplianceSecurityFilter** используется для создания нового фильтра разрешения поиска. В следующей таблице описываются параметры для этого командлета. Все параметры требуется создать фильтр соответствия требованиям безопасности. 
  
|**Параметр**|**Описание**|
|:-----|:-----|
| _Action_ <br/> | _Этот параметр_ указывает, тип действия поиска, которое применяется фильтр. Необходимо возможные действия поиска контента.<br/><br/> **Экспорт** - фильтр будет применяться при экспорте результатов поиска.  <br/> **Предварительная версия** - фильтр будет применяться при предварительном просмотре результатов поиска.  <br/> **Включить удаление** - фильтр будет применяться при удалении результатов поиска.  <br/> **Поиск** - фильтр будет применяться при выполнении поиска.  <br/> **Все** - фильтр применяется для всех действий поиска.  <br/> |
| _FilterName_ <br/> |Параметр _FilterName_ указывает имя фильтра разрешения. — Это имя используется для идентификации фильтра при использовании командлета **Get-ComplianceSecurityFilter**, **Set-ComplianceSecurityFilter** и **Remove-ComplianceSecurityFilter** .<br/> |
| _Фильтры_ <br/> | Параметр _фильтры_ указывает условия поиска для фильтрации соответствия требованиям безопасности. Вы можете создать три различных типа фильтров:<br/><br/> **Фильтрация почтовых ящиков** - этот тип фильтра указывает почтовые ящики, которые может выполнять поиск для пользователей (указывается с помощью параметра _пользователей_ ). **Mailbox_** _MailboxPropertyName_, где _MailboxPropertyName_ указывает свойство почтового ящика, используется для определения области почтовых ящиков, которые можно искать используется следующий синтаксис для этого типа фильтра. К примеру, фильтр почтового ящика `"Mailbox_CustomAttribute10 -eq 'OttawaUsers'"` позволит пользователя назначен этот фильтр только поиска почтовых ящиков, которые имеют значение «OttawaUsers» в свойстве CustomAttribute10.<br/>  Все поддерживаемые фильтруемые получателей свойство можно использовать для свойства _MailboxPropertyName_ . [Фильтруемые свойства для параметра - RecipientFilter](https://go.microsoft.com/fwlink/p/?LinkId=784903)список свойств, поддерживаемых, см.<br/><br/> **Фильтрация содержимого почтового ящика** - этот тип фильтра применяется на контент, который может быть выполнен. Он указывает Назначенные пользователи могут искать содержимое почтовых ящиков. **MailboxContent_** _SearchablePropertyName:value_, где _SearchablePropertyName_ указывает свойство ключевое слово Query Language (KQL), который может быть указан в поиска контента используется следующий синтаксис для этого типа фильтра. Например, фильтр содержимого почтового ящика `MailboxContent_recipients:contoso.com` позволит пользователя назначен этот фильтр для поиска только для сообщений, отправленных в список получателей в домене contoso.com.<br/>  Список свойств для поиска сообщений см в [запросах по ключевым словам и условия поиска для поиска контента](keyword-queries-and-search-conditions.md).  <br/><br/> **Фильтрация сайта и контента сайта** - существует два SharePoint и OneDrive для бизнеса связанные с сайта фильтры, которые можно использовать для определения, какой сайт или содержимого узла Назначенные пользователи могут выполнять поиск:  <br/><br/> - **Site_** _SearchableSiteProperty_ <br/> - **SiteContent_** _SearchableSiteProperty_ <br/><br/>  Эти два фильтра являются взаимозаменяемыми; например `"Site_Path -like 'https://contoso.sharepoint.com/sites/doctors*'"` и `"SiteContent_Path -like 'https://contoso.sharepoint.com/sites/doctors*'"` возвращает одинаковые результаты. Но чтобы помочь вам определить, что означает фильтра, можно использовать `Site_` для указания свойства, связанные с сайта (например, URL-адрес сайта) и `SiteContent_` для указания свойства, связанные с содержимым (например, типов документов. Например, фильтр `"Site_Path -like 'https://contoso.sharepoint.com/sites/doctors*'"` позволит пользователя назначен этот фильтр, чтобы найти контент в только https://contoso.sharepoint.com/sites/doctors семейства сайтов. Фильтр `"SiteContent_FileExtension -eq 'docx'"` позволит пользователя назначен этот фильтр для поиска только для документов Word (Word 2007 и более поздних версий).<br/><br/>  Список свойств для поиска сайта в разделе [Обзор свойств для обхода и управляемых свойств в SharePoint](https://go.microsoft.com/fwlink/p/?LinkId=331599). Свойства, отмеченный **Да** в ** Queryable ** столбца можно использовать для создания сайта или фильтрации содержимого сайта.<br/> <br/> **Важные:**  Один поисковый фильтр может быть только один тип фильтра; не может содержать фильтр почтового ящика и фильтр сайта; Аналогично не может содержать фильтр почтового ящика и фильтрации содержимого почтового ящика. Тем не менее фильтр может содержать более сложных запросов того же типа. Например`"Mailbox_CustomAttribute10 -eq 'FTE' -and Mailbox_MemberOfGroup -eq '$($DG.DistinguishedName)'"` <br/><br/> **Важные:** Необходимо создать фильтр разрешения поиска, чтобы явно запретить пользователям поиск расположения контента в определенной службе Office 365 (например, предотвращая поиска любого почтового ящика Exchange или любого сайта SharePoint). Другими словами Создание фильтра разрешения поиска, который позволяет пользователю выполнять поиск всех узлов SharePoint в организации не запрещает этого пользователя поиска почтовых ящиков. Например чтобы разрешить администраторам SharePoint только поиск по сайтам SharePoint, необходимо создать create фильтра, которая запрещает поиска почтовых ящиков. Аналогичным образом чтобы разрешить администраторам поиск только в почтовые ящики Exchange, необходимо создать создать фильтр, который запрещает Поиск сайтов.           |
| _Пользователи_ <br/> |Параметр _пользователей_ указывает пользователей, получите этот фильтр, применяемые к их поиск. Определение пользователей с их псевдоним или основной SMTP-адрес. Можно указать несколько значений, разделенных запятыми, или можно назначить фильтр для всех пользователей с помощью **все**значения.<br/> Параметр _пользователей_ можно также использовать для указания безопасности &amp; группы ролей в центре соответствия требованиям. Позволяет создать пользовательскую группу ролей и затем назначить роль группы поисковый фильтр разрешения. Например предположим, у вас есть пользовательскую группу ролей для менеджеров eDiscovery для дочерних компаний США глобальной экономике корпорации. Параметр _пользователей_ можно использовать для указания этой группе ролей (с помощью свойства Name в группе ролей) и затем используйте параметр _Filter_ , чтобы разрешить только почтовых ящиков в США для поиска.<br/> Вы не можете указывать группы рассылки с этим параметром.  <br/> |
   

## <a name="examples-of-creating-search-permissions-filters"></a>Примеры создания фильтров разрешения поиска

Ниже приведены примеры использования командлета **New-ComplianceSecurityFilter** для создания фильтра разрешений поиска. 
  
В этом примере показана annb@contoso.com пользователя для выполнения всех действий поиска контента только для почтовых ящиков в Канада. Этот фильтр содержит трехзначный числовой код страны для Канады с ISO 3166-1.

```
New-ComplianceSecurityFilter -FilterName CountryFilter  -Users annb@contoso.com -Filters "Mailbox_CountryCode  -eq '124'" -Action All
```

В этом примере пользователи donh и suzanf могут выполнять поиск только в почтовых ящиках, свойство CustomAttribute1 которых имеет значение Marketing.

```
New-ComplianceSecurityFilter -FilterName MarketingFilter  -Users donh,suzanf -Filters "Mailbox_CustomAttribute1  -eq 'Marketing'" -Action Search
```
   
В этом примере членам группы ролей US Discovery Managers разрешается выполнять все действия поиска содержимого только в почтовых ящиках на территории США. Этот фильтр содержит трехзначный числовой код США по стандарту ISO 3166-1.
  
```
New-ComplianceSecurityFilter -FilterName USDiscoveryManagers  -Users "US Discovery Managers" -Filters "Mailbox_CountryCode  -eq '840'" -Action All
```

В этом примере члены группы ролей "Диспетчер eDiscovery" могут выполнять поиск только в почтовых ящиках членов группы рассылки Ottawa Users. 
  
```
$DG = Get-DistributionGroup "Ottawa Users"
```

```
New-ComplianceSecurityFilter -FilterName DGFilter  -Users eDiscoveryManager -Filters "Mailbox_MemberOfGroup -eq '$($DG.DistinguishedName)'" -Action Search
```
В этом примере пользователи не могут удалять содержимое из почтовых ящиков членов группы рассылки Executive Team (Руководство).

```
$DG = Get-DistributionGroup "Executive Team"
```

```
New-ComplianceSecurityFilter -FilterName NoExecutivesPreview  -Users all -Filters "Mailbox_MemberOfGroup -ne '$($DG.DistinguishedName)'" -Action Purge
```
   
В этом примере позволяет членам группы Настраиваемая роль диспетчеры обнаружения электронных данных OneDrive искать содержимое в OneDrive для бизнеса расположений в организации.

```
New-ComplianceSecurityFilter -FilterName OneDriveOnly  -Users "OneDrive eDiscovery Managers" -Filters "Site_Path -like 'https://contoso-my.sharepoint.com/personal*'" -Action Search
```
   
> [!NOTE]
> Чтобы ограничить поиск определенных сайтов пользователей, используйте фильтр `Site_Path`, как показано в предыдущем примере. С помощью `Site_Site` не будут работать. 
  
В этом примере пользователю разрешается выполнять все действия поиска содержимого только с сообщениями, отправленными в 2015 году.

```
New-ComplianceSecurityFilter -FilterName EmailDateRestrictionFilter -Users donh@contoso.com -Filters "MailboxContent_Received -ge '01-01-2015' -and MailboxContent_Received -le '12-31-2015'" -Action All
```
   
Как и в предыдущем примере, в этом примере пользователю разрешается выполнять все действия поиска содержимого только с документами, измененными в последний раз в 2015 году.

```
New-ComplianceSecurityFilter -FilterName DocumentDateRestrictionFilter -Users donh@contoso.com -Filters "SiteContent_LastModifiedTime -ge '01-01-2015' -and SiteContent_LastModifiedTime -le '12-31-2015'" -Action All
```
   
В этом примере не позволяет членов группы ролей «Диспетчеры обнаружения OneDrive» для выполнения действий поиска контента на любой почтовый ящик в организации. 

```
New-ComplianceSecurityFilter -FilterName NoEXO -Users "OneDrive Discovery Managers" -Filters "Mailbox_Alias -notlike '*'"  -Action All
```
  
## <a name="get-compliancesecurityfilter"></a>Get-ComplianceSecurityFilter

**Get-ComplianceSecurityFilter** используется для возвращения списка фильтров разрешения поиска. Используйте параметр _FilterName_ для возвращения сведений о конкретных поисковый фильтр. 
  
## <a name="set-compliancesecurityfilter"></a>SET-ComplianceSecurityFilter

**Set-ComplianceSecurityFilter** используется для изменения существующего фильтра разрешения поиска. Единственным обязательным параметром является _FilterName_. 
  
|**Параметр**|**Описание**|
|:-----|:-----|
| _Action_| _Этот параметр_ указывает, тип действия поиска, которое применяется фильтр. Необходимо возможные действия поиска контента.<br/><br/> **Экспорт** - фильтр будет применяться при экспорте результатов поиска.  <br/> **Предварительная версия** - фильтр будет применяться при предварительном просмотре результатов поиска.  <br/> **Включить удаление** - фильтр будет применяться при удалении результатов поиска.  <br/> **Поиск** - фильтр будет применяться при выполнении поиска.  <br/> **Все** - фильтр применяется для всех действий поиска.  <br/> |
| _FilterName_|Параметр _FilterName_ указывает имя фильтра разрешения. |
| _Фильтры_| Параметр _фильтры_ указывает условия поиска для фильтрации соответствия требованиям безопасности. Можно создать два различных типа фильтров:<br/><br/>**Фильтрация почтовых ящиков** - этот тип фильтра указывает почтовые ящики, которые может выполнять поиск для пользователей (указывается с помощью параметра _пользователей_ ). **Mailbox_** _MailboxPropertyName_, где _MailboxPropertyName_ указывает свойство почтового ящика, используется для определения области почтовых ящиков, которые можно искать используется следующий синтаксис для этого типа фильтра. К примеру, фильтр почтового ящика `"Mailbox_CustomAttribute10 -eq 'OttawaUsers'"` позволит пользователя назначен этот фильтр только поиска почтовых ящиков, которые имеют значение «OttawaUsers» в свойстве CustomAttribute10.  Все поддерживаемые фильтруемые получателей свойство можно использовать для свойства _MailboxPropertyName_ . [Фильтруемые свойства для параметра - RecipientFilter](https://go.microsoft.com/fwlink/p/?LinkId=784903)список свойств, поддерживаемых, см.<br/><br/>**Фильтрация содержимого почтового ящика**- этот тип фильтра применяется на контент, который может быть выполнен. Он указывает Назначенные пользователи могут искать содержимое почтовых ящиков. **MailboxContent_** _SearchablePropertyName:value_, где _SearchablePropertyName_ указывает свойство ключевое слово Query Language (KQL), который может быть указан в поиска контента используется следующий синтаксис для этого типа фильтра. Например, фильтр содержимого почтового ящика `MailboxContent_recipients:contoso.com` позволит пользователя назначен этот фильтр для поиска только для сообщений, отправленных в список получателей в домене contoso.com.  Список свойств для поиска сообщения в разделе [запросы ключевое слово для поиска контента](keyword-queries-and-search-conditions.md).<br/><br/>**Фильтрация сайта и контента сайта** Существует два SharePoint и OneDrive для бизнеса связанные с сайта фильтры, которые можно использовать для определения, какой сайт или контента сайта Назначенные пользователи могут выполнять поиск. <br/><br/>- **Site_** *SearchableSiteProperty* <br/>- _ **SiteContent***SearchableSiteProperty*<br/><br/>Эти два фильтра являются взаимозаменяемыми; например `"Site_Path -like 'https://contoso.spoppe.com/sites/doctors*'"` и `"SiteContent_Path -like 'https://contoso.spoppe.com/sites/doctors*'"` возвращает одинаковые результаты. Но чтобы помочь вам определить, что означает фильтра, можно использовать `Site_` для указания свойства, связанные с сайта (например, URL-адрес сайта) и `SiteContent_` для указания свойства, связанные с содержимым (например, типов документов. Например, фильтр `"Site_Path -like 'https://contoso.spoppe.com/sites/doctors*'"` позволит пользователя назначен этот фильтр, чтобы найти контент в только https://contoso.spoppe.com/sites/doctors семейства сайтов. Фильтр `"SiteContent_FileExtension -eq 'docx'"` позволит пользователя назначен этот фильтр для поиска только для документов Word (Word 2007 и более поздних версий).<br/><br/>Список свойств для поиска сайта в разделе [Обзор свойств для обхода и управляемых свойств в SharePoint](https://go.microsoft.com/fwlink/p/?LinkId=331599). Свойства, помеченные **Да** в столбце **возможность запроса** можно использовать для создания сайта или фильтрации содержимого сайта.<br/><br/> **Важные:** Один поисковый фильтр может быть только один тип фильтра; не может содержать фильтр почтового ящика и фильтр сайта; Аналогично не может содержать фильтр почтового ящика и фильтрации содержимого почтового ящика. Тем не менее фильтр может содержать более сложных запросов того же типа. Например`"Mailbox_CustomAttribute10 -eq 'FTE' -and Mailbox_MemberOfGroup -eq '$($DG.DistinguishedName)'"`          |
| _Пользователи_|Параметр _пользователей_ указывает пользователей, получите этот фильтр, применяемые к их поиск. Так как это свойство Многозначный Указание имени пользователя или группы пользователей с помощью этого параметра будет перезаписывать существующий список пользователей. Следующие примеры синтаксиса для добавления и удаления выбранных пользователей.<br/><br/>Параметр _пользователей_ можно также использовать для указания безопасности &amp; группы ролей в центре соответствия требованиям. Позволяет создать пользовательскую группу ролей и затем назначить роль группы поисковый фильтр разрешения. Например предположим, у вас есть пользовательскую группу ролей для менеджеров eDiscovery для дочерних компаний США глобальной экономике корпорации. Параметр _пользователей_ можно использовать для указания этой группе ролей (с помощью свойства Name в группе ролей) и затем используйте параметр _Filter_ , чтобы разрешить только почтовых ящиков в США для поиска.<br/><br/>Вы не можете указывать группы рассылки с этим параметром. |

## <a name="examples-of-changing-search-permissions-filters"></a>Примеры изменения разрешений фильтры поиска

В этих примерах показано, как использовать командлеты **Get-ComplianceSecurityFilter** и **Set-ComplianceSecurityFilter** для добавления или удаления пользователя в существующий список пользователей, которым назначена фильтра. При добавлении или удалить пользователей из Фильтр укажите пользователя с помощью SMTP-адрес. 
  
В этом примере пользователь добавляется к фильтру.

```
$filterusers = Get-ComplianceSecurityFilter -FilterName OttawaUsersFilter
```
```
$filterusers.users.add("pilarp@contoso.com")
```

```
Set-ComplianceSecurityFilter -FilterName OttawaUsersFilter -Users $filterusers.users
```
   
В этом примере пользователь удаляется из фильтра.

```
$filterusers = Get-ComplianceSecurityFilter -FilterName OttawaUsersFilter
```

```
$filterusers.users.remove("annb@contoso.com")
```

```
Set-ComplianceSecurityFilter -FilterName OttawaUsersFilter -Users $filterusers.users
```
  
## <a name="remove-compliancesecurityfilter"></a>Remove-ComplianceSecurityFilter

**Remove-ComplianceSecurityFilter** используется для удаления поисковый фильтр. Используйте параметр _FilterName_ для указания фильтра, который требуется удалить. 
  
## <a name="more-information"></a>Дополнительные сведения

- **Как поиск разрешения, фильтрация рабочих?** Фильтр разрешения будет добавлен в поисковый запрос, при выполнении поиска контента. Фильтр разрешения по сути присоединяется к поисковый запрос с логический оператор **AND** . Например предположим, что у вас есть разрешения фильтр, позволяющий Bob, чтобы выполнение всех действий поиска на почтовые ящики членов группы рассылки работников. Затем Боб выполняет поиск контента на всех почтовых ящиков в организации в запросе поиска `sender:jerry@adatum.com`. Так как фильтр разрешения и запросов поиска логически вместе с оператора **AND** , поиск возвращает сообщение, отправленное с jerry@adatum.com в любой участник группы рассылки работников. 
    
- **Что произойдет, если у вас есть несколько фильтров поиска разрешений?** В запросе поиска контента несколько фильтров разрешения объединяются с **или** логических операторов. Поэтому результаты будут возвращены, если какие-либо фильтры. В поиск контента все фильтры (объединенных операторами **или** ) затем объединяются с поисковый запрос **оператором** . Давайте предыдущего примера, где поисковый фильтр позволяет Bob, чтобы поиск только в почтовые ящики членов группы рассылки сотрудников. Затем мы создания другого фильтра, не позволяющей Bob поиска почтового ящика пользователя Фил («псевдоним_почтового_ящика - ne «Фил»»). А также предположим, что Фил является участником группы сотрудников. Когда Боб выполняется поиск контента (из предыдущего примера) на всех почтовых ящиков в организации, результаты поиска будут возвращены для почтового ящика пользователя Фил несмотря на то, что применяется фильтр, чтобы запретить поиск почтового ящика пользователя Фил Bob. Это первый фильтр, позволяющий Bob для поиска группы сотрудников, имеет значение true. И так как Фил является участником группы сотрудников, Боб может выполнять поиск Фил пользователя почтового ящика. 
    
- **Поиска разрешений, фильтрация трудозатраты для неактивные почтовые ящики?** Да, почтовых ящиков и фильтров содержимого почтового ящика можно использовать для ограничения пользователей, которые можно найти неактивные почтовые ящики в вашей организации. Как регулярные почтового ящика неактивного почтового ящика должен быть настроен с помощью свойства получателя, который используется для создания фильтра разрешения. При необходимости можно использовать команду **Get-Mailbox InactiveMailboxOnly** для отображения свойств неактивные почтовые ящики. Дополнительные сведения можно [Создание и управление неактивными почтовыми ящиками в Office 365](create-and-manage-inactive-mailboxes.md).
    
- **Поиска разрешений, фильтрация трудозатраты для общих папок?** Нет. Как объяснялось ранее, поиска, который разрешения фильтрации не может использоваться для ограничения пользователей, которые могут выполнять поиск общих папок в Exchange. Например элементы в общедоступных папок нельзя исключить из результатов поиска фильтром разрешения. 
    
- **Позволяет пользователю выполнять поиск все расположения контента в определенной службе также запретить их поиск расположения контента в другую службу?** Нет. Как объяснялось ранее необходимо создать фильтр разрешения поиска, чтобы явно запретить пользователям поиск расположения контента в определенной службе Office 365 (например, предотвращая поиска любого почтового ящика Exchange или любого сайта SharePoint). Другими словами Создание фильтра разрешения поиска, который позволяет пользователю выполнять поиск всех узлов SharePoint в организации не запрещает этого пользователя поиска почтовых ящиков. Например чтобы разрешить администраторам SharePoint только поиск по сайтам SharePoint, необходимо создать create фильтра, которая запрещает поиска почтовых ящиков. Аналогичным образом чтобы разрешить администраторам поиск только в почтовые ящики Exchange, необходимо создать создать фильтр, который запрещает Поиск сайтов.
